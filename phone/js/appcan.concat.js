/*appcan+appcan.control+appcan.scrollbox*/
var Zepto=function(){function t(t){return null==t?String(t):V[J.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function a(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function o(t){return"number"==typeof t.length}function s(t){return k.call(t,function(t){return null!=t})}function c(t){return t.length>0?S.fn.concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in T?T[t]:T[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||F[u(t)]?e:e+"px"}function f(t){var e,n;return A[t]||(e=E.createElement(t),E.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),A[t]=n),A[t]}function h(t){return"children"in t?N.call(t.children):S.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function d(t,e,n){for(_ in e)n&&(a(e[_])||X(e[_]))?(a(e[_])&&!a(t[_])&&(t[_]={}),X(e[_])&&!X(t[_])&&(t[_]=[]),d(t[_],e[_],n)):e[_]!==x&&(t[_]=e[_])}function g(t,e){return null==e?S(t):S(t).filter(e)}function v(t,n,i,r){return e(n)?n.call(t,i,r):n}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e){var n=t.className,i=n&&n.baseVal!==x;if(e===x)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function y(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?S.parseJSON(t):t:e):t}catch(e){return t}}function b(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)b(t.childNodes[n],e)}var x,_,S,P,O,j,C=[],N=C.slice,k=C.filter,E=window.document,A={},T={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,W=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/^(?:body|html)$/i,B=["val","css","html","text","data","width","height","offset"],D=["after","prepend","before","append"],R=E.createElement("table"),$=E.createElement("tr"),L={tr:E.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:$,th:$,"*":E.createElement("div")},q=/complete|loaded|interactive/,z=/^[\w-]*$/,V={},J=V.toString,U={},H=E.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(t){return t instanceof Array};return U.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,a=!r;return a&&(r=H).appendChild(t),i=~U.qsa(r,e).indexOf(t),a&&H.removeChild(t),i},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},j=function(t){return k.call(t,function(e,n){return t.indexOf(e)==n})},U.fragment=function(t,e,n){var i,r,o;return W.test(t)&&(i=S(E.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")),e===x&&(e=I.test(t)&&RegExp.$1),e in L||(e="*"),o=L[e],o.innerHTML=""+t,i=S.each(N.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(r=S(i),S.each(n,function(t,e){B.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},U.Z=function(t,e){return t=t||[],t.__proto__=S.fn,t.selector=e||"",t},U.isZ=function(t){return t instanceof U.Z},U.init=function(t,n){var i;if(!t)return U.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&I.test(t))i=U.fragment(t,RegExp.$1,n),t=null;else{if(n!==x)return S(n).find(t);i=U.qsa(E,t)}else{if(e(t))return S(E).ready(t);if(U.isZ(t))return t;if(X(t))i=s(t);else if(r(t))i=[t],t=null;else if(I.test(t))i=U.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==x)return S(n).find(t);i=U.qsa(E,t)}}return U.Z(i,t)},S=function(t,e){return U.init(t,e)},S.extend=function(t){var e,n=N.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},U.qsa=function(t,e){var n,r="#"==e[0],a=!r&&"."==e[0],o=r||a?e.slice(1):e,s=z.test(o);return i(t)&&s&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:N.call(s&&!r?a?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},S.contains=E.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},S.type=t,S.isFunction=e,S.isWindow=n,S.isArray=X,S.isPlainObject=a,S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},S.inArray=function(t,e,n){return C.indexOf.call(e,t,n)},S.camelCase=O,S.trim=function(t){return null==t?"":String.prototype.trim.call(t)},S.uuid=0,S.support={},S.expr={},S.map=function(t,e){var n,i,r,a=[];if(o(t))for(i=0;i<t.length;i++)null!=(n=e(t[i],i))&&a.push(n);else for(r in t)null!=(n=e(t[r],r))&&a.push(n);return c(a)},S.each=function(t,e){var n,i;if(o(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},S.grep=function(t,e){return k.call(t,e)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()}),S.fn={jquery:"1.11.2",forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(N.apply(this,arguments))},ready:function(t){return q.test(E.readyState)&&E.body?t(S):E.addEventListener("DOMContentLoaded",function(){t(S)},!1),this},get:function(t){return t===x?N.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return C.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):S(k.call(this,function(e){return U.matches(e,t)}))},add:function(t,e){return S(j(this.concat(S(t,e))))},is:function(t){return this.length>0&&U.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==x)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):o(t)&&e(t.item)?N.call(t):S(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return S(n)},has:function(t){return this.filter(function(){return r(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:S(t)},find:function(t){var e=this;return t?"object"==typeof t?S(t).filter(function(){var t=this;return C.some.call(e,function(e){return S.contains(e,t)})}):1==this.length?S(U.qsa(this[0],t)):this.map(function(){return U.qsa(this,t)}):[]},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=S(t));n&&!(r?r.indexOf(n)>=0:U.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){if((t=t.parentNode)&&!i(t)&&e.indexOf(t)<0)return e.push(t),t});return g(e,t)},parent:function(t){return g(j(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return h(this)}),t)},contents:function(){return this.map(function(){return N.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return k.call(h(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=S(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=S(this),r=i.contents(),a=n?t.call(this,e):t;r.length?r.wrapAll(a):i.append(a)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===x?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;S(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(_ in t)m(this,_,t[_]);else m(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:x},removeAttr:function(t){return this.each(function(){1===this.nodeType&&m(this,t)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(/([A-Z])/g,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?y(i):x},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=S(this),i=v(this,t,e,n.offset()),r=n.offsetParent().offset(),a={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof e)return i.style[O(e)]||r.getPropertyValue(e);if(X(e)){var a={};return S.each(X(e)?e:[e],function(t,e){a[e]=i.style[O(e)]||r.getPropertyValue(e)}),a}}var o="";if("string"==t(e))n||0===n?o=u(e)+":"+p(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(_ in e)e[_]||0===e[_]?o+=u(_)+":"+p(_,e[_])+";":this.each(function(){this.style.removeProperty(u(_))});return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&C.some.call(this,function(t){return this.test(w(t))},l(t))},addClass:function(t){return t?this.each(function(e){P=[];var n=w(this);v(this,t,e,n).split(/\s+/g).forEach(function(t){S(this).hasClass(t)||P.push(t)},this),P.length&&w(this,n+(n?" ":"")+P.join(" "))}):this},removeClass:function(t){return this.each(function(e){if(t===x)return w(this,"");P=w(this),v(this,t,e,P).split(/\s+/g).forEach(function(t){P=P.replace(l(t)," ")}),w(this,P.trim())})},toggleClass:function(t,e){return t?this.each(function(n){var i=S(this);v(this,t,n,w(this)).split(/\s+/g).forEach(function(t){(e===x?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===x?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===x?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=M.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(S(t).css("margin-top"))||0,n.left-=parseFloat(S(t).css("margin-left"))||0,i.top+=parseFloat(S(e[0]).css("border-top-width"))||0,i.left+=parseFloat(S(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||E.body;t&&!M.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(r){var a,o=this[0];return r===x?n(o)?o["inner"+e]:i(o)?o.documentElement["scroll"+e]:(a=this.offset())&&a[t]:this.each(function(e){o=S(this),o.css(t,v(this,r,e,o[t]()))})}}),D.forEach(function(e,n){var i=n%2;S.fn[e]=function(){var e,r,a=S.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:U.fragment(n)}),o=this.length>1;return a.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=S.contains(E.documentElement,r);a.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!r)return S(t).remove();r.insertBefore(t,e),s&&b(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},S.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return S(t)[e](this),this}}),U.Z.prototype=S.fn,U.uniq=j,U.deserializeValue=y,S.zepto=U,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto)&&(window.jQuery=window.$),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,a,o){if(n=i(n),n.ns)var s=r(n.ns);return(v[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||s.test(t.ns))&&(!a||e(t.fn)===e(a))&&(!o||t.sel==o)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!w&&t.e in y||!!e}function o(t){return b[t]||w&&y[t]||t}function s(n,r,s,c,l,f,h){var d=e(n),g=v[d]||(v[d]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=i(e);r.fn=s,r.sel=l,r.e in b&&(s=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=f;var d=f||s;r.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=c;var e=d.apply(n,t._args==p?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},r.i=g.length,g.push(r),"addEventListener"in n&&n.addEventListener(o(r.e),r.proxy,a(r,h))})}function c(t,i,r,s,c){var u=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,r,s).forEach(function(e){delete v[u][e.i],"removeEventListener"in t&&t.removeEventListener(o(e.e),e.proxy,a(e,c))})})}function u(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(P,function(t,i){var r=n[t];e[t]=function(){return this[i]=x,r&&r.apply(n,arguments)},e[i]=_}),(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function l(t){var e,n={originalEvent:t};for(e in t)S.test(e)||t[e]===p||(n[e]=t[e]);return u(n,t)}var p,f=1,h=Array.prototype.slice,d=t.isFunction,g=function(t){return"string"==typeof t},v={},m={},w="onfocusin"in window,y={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",t.event={add:s,remove:c,special:{}},t.proxy=function(n,i){var r=2 in arguments&&h.call(arguments,2);if(d(n)){var a=function(){return n.apply(i,r?r.concat(h.call(arguments)):arguments)};return a._zid=e(n),a}if(g(i))return r?(r.unshift(n[i],n),t.proxy.apply(null,r)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},_=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,P={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,a){var o,u,f=this;return e&&!g(e)?(t.each(e,function(t,e){f.on(t,n,i,e,a)}),f):(g(n)||d(r)||!1===r||(r=i,i=n,n=p),(d(i)||!1===i)&&(r=i,i=p),!1===r&&(r=_),f.each(function(p,f){a&&(o=function(t){return c(f,t.type,r),r.apply(this,arguments)}),n&&(u=function(e){var i,a=t(e.target).closest(n,f).get(0);if(a&&a!==f)return i=t.extend(l(e),{currentTarget:a,liveFired:f}),(o||r).apply(a,[i].concat(h.call(arguments,1)))}),s(f,e,r,i,n,u||o)}))},t.fn.off=function(e,n,i){var r=this;return e&&!g(e)?(t.each(e,function(t,e){r.off(t,n,e)}),r):(g(n)||d(i)||!1===i||(i=n,n=p),!1===i&&(i=_),r.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=g(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,a;return this.each(function(o,s){r=l(g(e)?t.Event(e):e),r._args=i,r.target=s,t.each(n(s,e.type||e),function(t,e){if(a=e.proxy(r),r.isImmediatePropagationStopped())return!1})}),a},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){g(t)||(e=t,t=e.type);var n=document.createEvent(m[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),u(n)}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function n(t,n,i,r){if(t.global)return e(n||w,i,r)}function i(e){e.global&&0==t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function a(t,e){var i=e.context;if(!1===e.beforeSend.call(i,t,e)||!1===n(e,i,"ajaxBeforeSend",[t,e]))return!1;n(e,i,"ajaxSend",[t,e])}function o(t,e,i,r){var a=i.context;i.success.call(a,t,"success",e),r&&r.resolveWith(a,[t,"success",e]),n(i,a,"ajaxSuccess",[e,i,t]),c("success",e,i)}function s(t,e,i,r,a){var o=r.context;r.error.call(o,i,e,t),a&&a.rejectWith(o,[i,e,t]),n(r,o,"ajaxError",[i,r,t||e]),c(e,i,r)}function c(t,e,i){var a=i.context;i.complete.call(a,e,t),n(i,a,"ajaxComplete",[e,i]),r(i)}function u(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==_?"html":t==x?"json":y.test(t)?"script":b.test(t)&&"xml")||"text"}function p(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=p(e.url,e.data),e.data=void 0)}function h(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function d(e,n,i,r){var a,o=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){a=t.type(c),r&&(n=i?r:r+"["+(s||"object"==a||"array"==a?n:"")+"]"),!r&&o?e.add(c.name,c.value):"array"==a||!i&&"object"==a?d(e,c,i,n):e.add(n,c)})}var g,v,m=0,w=window.document,y=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,x="application/json",_="text/html",S=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,r,c=e.jsonpCallback,u=(t.isFunction(c)?c():c)||"jsonp"+ ++m,l=w.createElement("script"),p=window[u],f=function(e){t(l).triggerHandler("error",e||"abort")},h={abort:f};return n&&n.promise(h),t(l).on("load error",function(a,c){clearTimeout(r),t(l).off().remove(),"error"!=a.type&&i?o(i[0],h,e,n):s(null,c||"error",h,e,n),window[u]=p,i&&t.isFunction(p)&&p(i[0]),p=i=void 0}),!1===a(h,e)?(f("abort"),h):(window[u]=function(){i=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),w.head.appendChild(l),e.timeout>0&&(r=setTimeout(function(){f("timeout")},e.timeout)),h)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:_,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),r=t.Deferred&&t.Deferred();for(g in t.ajaxSettings)void 0===n[g]&&(n[g]=t.ajaxSettings[g]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),n.type&&n.contentType&&"POST"==n.type.toUpperCase()&&"application/json"==n.contentType.toLowerCase()&&appcan.isPlainObject(n.data)&&(n.data=JSON.stringify(n.data)),f(n);var c=n.dataType,h=/\?.+=\?/.test(n.url);if(h&&(c="jsonp"),!1!==n.cache&&(e&&!0===e.cache||"script"!=c&&"jsonp"!=c)||(n.url=p(n.url,"_="+Date.now())),"jsonp"==c)return h||(n.url=p(n.url,n.jsonp?n.jsonp+"=?":!1===n.jsonp?"":"callback=?")),t.ajaxJSONP(n,r);var d,m=n.accepts[c],w={},y=function(t,e){w[t.toLowerCase()]=[t,e]},b=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,x=n.xhr(),_=x.setRequestHeader;if(r&&r.promise(x),n.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",m||"*/*"),(m=n.mimeType||m)&&(m.indexOf(",")>-1&&(m=m.split(",",2)[0]),x.overrideMimeType&&x.overrideMimeType(m)),(n.contentType||!1!==n.contentType&&n.data&&"GET"!=n.type.toUpperCase())&&y("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(v in n.headers)y(v,n.headers[v]);if(x.setRequestHeader=y,x.onreadystatechange=function(){if(4==x.readyState){x.onreadystatechange=u,clearTimeout(d);var e,i=!1;if(x.status>=200&&x.status<300||304==x.status||0==x.status&&"file:"==b){c=c||l(n.mimeType||x.getResponseHeader("content-type")),e=x.responseText;try{"script"==c?(0,eval)(e):"xml"==c?e=x.responseXML:"json"==c&&(e=S.test(e)?null:t.parseJSON(e))}catch(t){i=t}i?s(i,"parsererror",x,n,r):o(e,x,n,r)}else s(x.statusText||null,x.status?"error":"abort",x,n,r)}},!1===a(x,n))return x.abort(),s(null,"abort",x,n,r),x;if(n.xhrFields)for(v in n.xhrFields)x[v]=n.xhrFields[v];var P=!("async"in n)||n.async;x.open(n.type,n.url,P,n.username,n.password);for(v in w)_.apply(x,w[v]);return n.timeout>0&&(d=setTimeout(function(){x.onreadystatechange=u,x.abort(),s(null,"timeout",x,n,r)},n.timeout)),x.send(n.data?n.data:null),x},t.get=function(){return t.ajax(h.apply(null,arguments))},t.post=function(){var e=h.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=h.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,a=this,o=e.split(/\s/),s=h(e,n,i),c=s.success;return o.length>1&&(s.url=o[0],r=o[1]),s.success=function(e){a.html(r?t("<div>").html(e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).find(r):e),c&&c.apply(a,arguments)},t.ajax(s),this};var P=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(P(t)+"="+P(e))},d(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var i=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(Zepto),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){p=null,h.last&&(h.el.trigger("longTap"),h={})}function i(){p&&clearTimeout(p),p=null}function r(){c&&clearTimeout(c),u&&clearTimeout(u),l&&clearTimeout(l),p&&clearTimeout(p),c=u=l=p=null,h={}}function a(t){return"Win32"==window.navigator.platform||(!("ontouchstart"in window)||("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary)}function o(){return"Win32"==window.navigator.platform||(!("ontouchstart"in window)||void 0)}function s(t,e){return"Win32"==window.navigator.platform||(!("ontouchstart"in window)||(t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e))}var c,u,l,p,f,h={};t(document).ready(function(){var d,g,v,m,w=0,y=0,b=o()?"MSPointerDown pointerdown mousedown":"touchstart MSPointerDown pointerdown",x=o()?"MSPointerMove pointermove mousemove":"touchmove MSPointerMove pointermove",_=o()?"MSPointerUp pointerup mouseup":"touchend MSPointerUp pointerup";"MSGesture"in window&&(f=new MSGesture,f.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(h.el.trigger("swipe"),h.el.trigger("swipe"+e))}).on(b,function(e){(m=s(e,"down"))&&!a(e)||(v=m?e:e.touches[0],e.touches&&1===e.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),w=0,y=0,d=Date.now(),g=d-(h.last||d),h.el=t("tagName"in v.target?v.target:v.target.parentNode),c&&clearTimeout(c),h.x1=v.pageX,h.y1=v.pageY,g>0&&g<=250&&(h.isDoubleTap=!0),h.last=d,p=setTimeout(n,750),f&&m&&f.addPointer(e.pointerId))}).on(x,function(t){(m=s(t,"move"))&&!a(t)||(v=m?t:t.touches[0],i(),h.x2=v.pageX,h.y2=v.pageY,isNaN(w)&&(w=0),isNaN(y)&&(y=0),w+=Math.abs(h.x1-h.x2),y+=Math.abs(h.y1-h.y2),h.el&&h.el.trigger("swipeMove"+e(h.x1,h.x2,h.y1,h.y2),{e:t,dx:Math.abs(h.x1-h.x2),dy:Math.abs(h.y1-h.y2)}))}).on(_,function(n){(m=s(n,"up"))&&!a(n)||(i(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?l=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+e(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(w<30&&y<30||o()?u=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=r,h.el.trigger(e),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):c=setTimeout(function(){c=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),w=y=0)}).on("touchcancel MSPointerCancel pointercancel",r),t(window).on("scroll",r)}),["swipeMoveLeft","swipeMoveRight","swipeMoveUp","swipeMoveDown","swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,a,o,s,c,u,l,p,f,h,d="",g={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};t.each(g,function(t,e){if(void 0!==v.style[t+"TransitionProperty"])return d="-"+t.toLowerCase()+"-",r=e,!1}),a=d+"transform",w[o=d+"transition-property"]=w[s=d+"transition-duration"]=w[u=d+"transition-delay"]=w[c=d+"transition-timing-function"]=w[l=d+"animation-name"]=w[p=d+"animation-duration"]=w[h=d+"animation-delay"]=w[f=d+"animation-timing-function"]="",t.fx={off:void 0===r&&void 0===v.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(e,n,i,r,a){return t.isFunction(n)&&(r=n,i=void 0,n=void 0),t.isFunction(i)&&(r=i,i=void 0),t.isPlainObject(n)&&(i=n.easing,r=n.complete,a=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(e,n,i,r,a)},t.fn.anim=function(e,i,r,d,g){var v,y,b,x={},_="",S=this,P=t.fx.transitionEnd,O=!1;if(void 0===i&&(i=t.fx.speeds._default/1e3),void 0===g&&(g=0),t.fx.off&&(i=0),"string"==typeof e)x[l]=e,x[p]=i+"s",x[h]=g+"s",x[f]=r||"linear",P=t.fx.animationEnd;else{y=[];for(v in e)m.test(v)?_+=v+"("+e[v]+") ":(x[v]=e[v],y.push(n(v)));_&&(x[a]=_,y.push(a)),i>0&&"object"==typeof e&&(x[o]=y.join(", "),x[s]=i+"s",x[u]=g+"s",x[c]=r||"linear")}return b=function(e){if(void 0!==e){if(e.target!==e.currentTarget)return;t(e.target).unbind(P,b)}else t(this).unbind(P,b);O=!0,t(this).css(w),d&&d.call(this)},i>0&&(this.bind(P,b),setTimeout(function(){O||b.call(S)},1e3*(i+g)+25)),this.size()&&this.get(0).clientLeft,this.css(x),i<=0&&setTimeout(function(){S.each(function(){b.call(this)})},0),this},v=null}(Zepto),function(t,e){function n(n,i,r,a,o){"function"!=typeof i||o||(o=i,i=e);var s={opacity:r};return a&&(s.scale=a,n.css(t.fx.cssPrefix+"transform-origin","0 0")),n.animate(s,i,null,o)}function i(e,i,r,a){return n(e,i,0,r,function(){o.call(t(this)),a&&a.call(this)})}var r=window.document,a=(r.documentElement,t.fn.show),o=t.fn.hide,s=t.fn.toggle;t.fn.show=function(t,i){return a.call(this),t===e?t=0:this.css("opacity",0),n(this,t,1,"1,1",i)},t.fn.hide=function(t,n){return t===e?o.call(this):i(this,t,"0,0",n)},t.fn.toggle=function(n,i){return n===e||"boolean"==typeof n?s.call(this,n):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](n,i)})},t.fn.fadeTo=function(t,e,i){return n(this,t,e,null,i)},t.fn.fadeIn=function(t,e){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,a.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return i(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](e,n)})}}(Zepto),function(){function t(t){function e(e,n,i,r,a,o){for(;a>=0&&a<o;a+=t){var s=r?r[a]:a;i=n(i,e[s],s,e)}return i}return function(n,i,r,a){i=y(i,a,4);var o=!j(n)&&w.keys(n),s=(o||n).length,c=t>0?0:s-1;return arguments.length<3&&(r=n[o?o[c]:c],c+=t),e(n,i,r,o,c,s)}}function e(t){return function(e,n,i){n=b(n,i);for(var r=O(e),a=t>0?0:r-1;a>=0&&a<r;a+=t)if(n(e[a],a,e))return a;return-1}}function n(t,e,n){return function(i,r,a){var o=0,s=O(i);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(i,r),i[a]===r?a:-1;if(r!==r)return a=e(l.call(i,o,s),w.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&a<s;a+=t)if(i[a]===r)return a;return-1}}function i(t,e){var n=A.length,i=t.constructor,r=w.isFunction(i)&&i.prototype||s,a="constructor";for(w.has(t,a)&&!w.contains(e,a)&&e.push(a);n--;)(a=A[n])in t&&t[a]!==r[a]&&!w.contains(e,a)&&e.push(a)}var r=this,a=r._,o=Array.prototype,s=Object.prototype,c=Function.prototype,u=o.push,l=o.slice,p=s.toString,f=s.hasOwnProperty,h=Array.isArray,d=Object.keys,g=c.bind,v=Object.create,m=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),
exports._=w):r._=w,w.VERSION="1.8.3";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,a){return t.call(e,n,i,r,a)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return null==t?w.identity:w.isFunction(t)?y(t,e,n):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return b(t,e,1/0)};var x=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],o=t(a),s=o.length,c=0;c<s;c++){var u=o[c];e&&void 0!==n[u]||(n[u]=a[u])}return n}},_=function(t){if(!w.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},P=Math.pow(2,53)-1,O=S("length"),j=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=P};w.each=w.forEach=function(t,e,n){e=y(e,n);var i,r;if(j(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var a=w.keys(t);for(i=0,r=a.length;i<r;i++)e(t[a[i]],a[i],t)}return t},w.map=w.collect=function(t,e,n){e=b(e,n);for(var i=!j(t)&&w.keys(t),r=(i||t).length,a=Array(r),o=0;o<r;o++){var s=i?i[o]:o;a[o]=e(t[s],s,t)}return a},w.reduce=w.foldl=w.inject=t(1),w.reduceRight=w.foldr=t(-1),w.find=w.detect=function(t,e,n){var i;if(void 0!==(i=j(t)?w.findIndex(t,e,n):w.findKey(t,e,n))&&-1!==i)return t[i]},w.filter=w.select=function(t,e,n){var i=[];return e=b(e,n),w.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},w.reject=function(t,e,n){return w.filter(t,w.negate(b(e)),n)},w.every=w.all=function(t,e,n){e=b(e,n);for(var i=!j(t)&&w.keys(t),r=(i||t).length,a=0;a<r;a++){var o=i?i[a]:a;if(!e(t[o],o,t))return!1}return!0},w.some=w.any=function(t,e,n){e=b(e,n);for(var i=!j(t)&&w.keys(t),r=(i||t).length,a=0;a<r;a++){var o=i?i[a]:a;if(e(t[o],o,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,n,i){return j(t)||(t=w.values(t)),("number"!=typeof n||i)&&(n=0),w.indexOf(t,e,n)>=0},w.invoke=function(t,e){var n=l.call(arguments,2),i=w.isFunction(e);return w.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,n){var i,r,a=-1/0,o=-1/0;if(null==e&&null!=t){t=j(t)?t:w.values(t);for(var s=0,c=t.length;s<c;s++)(i=t[s])>a&&(a=i)}else e=b(e,n),w.each(t,function(t,n,i){((r=e(t,n,i))>o||r===-1/0&&a===-1/0)&&(a=t,o=r)});return a},w.min=function(t,e,n){var i,r,a=1/0,o=1/0;if(null==e&&null!=t){t=j(t)?t:w.values(t);for(var s=0,c=t.length;s<c;s++)(i=t[s])<a&&(a=i)}else e=b(e,n),w.each(t,function(t,n,i){((r=e(t,n,i))<o||r===1/0&&a===1/0)&&(a=t,o=r)});return a},w.shuffle=function(t){for(var e,n=j(t)?t:w.values(t),i=n.length,r=Array(i),a=0;a<i;a++)e=w.random(0,a),e!==a&&(r[a]=r[e]),r[e]=n[a];return r},w.sample=function(t,e,n){return null==e||n?(j(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,n){return e=b(e,n),w.pluck(w.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,i){var r={};return n=b(n,i),w.each(e,function(i,a){var o=n(i,a,e);t(r,i,o)}),r}};w.groupBy=C(function(t,e,n){w.has(t,n)?t[n].push(e):t[n]=[e]}),w.indexBy=C(function(t,e,n){t[n]=e}),w.countBy=C(function(t,e,n){w.has(t,n)?t[n]++:t[n]=1}),w.toArray=function(t){return t?w.isArray(t)?l.call(t):j(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:j(t)?t.length:w.keys(t).length},w.partition=function(t,e,n){e=b(e,n);var i=[],r=[];return w.each(t,function(t,n,a){(e(t,n,a)?i:r).push(t)}),[i,r]},w.first=w.head=w.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},w.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var N=function(t,e,n,i){for(var r=[],a=0,o=i||0,s=O(t);o<s;o++){var c=t[o];if(j(c)&&(w.isArray(c)||w.isArguments(c))){e||(c=N(c,e,n));var u=0,l=c.length;for(r.length+=l;u<l;)r[a++]=c[u++]}else n||(r[a++]=c)}return r};w.flatten=function(t,e){return N(t,e,!1)},w.without=function(t){return w.difference(t,l.call(arguments,1))},w.uniq=w.unique=function(t,e,n,i){w.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],a=[],o=0,s=O(t);o<s;o++){var c=t[o],u=n?n(c,o,t):c;e?(o&&a===u||r.push(c),a=u):n?w.contains(a,u)||(a.push(u),r.push(c)):w.contains(r,c)||r.push(c)}return r},w.union=function(){return w.uniq(N(arguments,!0,!0))},w.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=O(t);i<r;i++){var a=t[i];if(!w.contains(e,a)){for(var o=1;o<n&&w.contains(arguments[o],a);o++);o===n&&e.push(a)}}return e},w.difference=function(t){var e=N(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,O).length||0,n=Array(e),i=0;i<e;i++)n[i]=w.pluck(t,i);return n},w.object=function(t,e){for(var n={},i=0,r=O(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},w.findIndex=e(1),w.findLastIndex=e(-1),w.sortedIndex=function(t,e,n,i){n=b(n,i,1);for(var r=n(e),a=0,o=O(t);a<o;){var s=Math.floor((a+o)/2);n(t[s])<r?a=s+1:o=s}return a},w.indexOf=n(1,w.findIndex,w.sortedIndex),w.lastIndexOf=n(-1,w.findLastIndex),w.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),a=0;a<i;a++,t+=n)r[a]=t;return r};var k=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var a=_(t.prototype),o=t.apply(a,r);return w.isObject(o)?o:a};w.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,l.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return k(t,i,e,this,n.concat(l.call(arguments)))};return i},w.partial=function(t){var e=l.call(arguments,1),n=function(){for(var i=0,r=e.length,a=Array(r),o=0;o<r;o++)a[o]=e[o]===w?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return k(t,n,this,this,a)};return n},w.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=w.bind(t[n],t);return t},w.memoize=function(t,e){var n=function(i){var r=n.cache,a=""+(e?e.apply(this,arguments):i);return w.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return n.cache={},n},w.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:w.now(),o=null,a=t.apply(i,r),o||(i=r=null)};return function(){var u=w.now();s||!1!==n.leading||(s=u);var l=e-(u-s);return i=this,r=arguments,l<=0||l>e?(o&&(clearTimeout(o),o=null),s=u,a=t.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(c,l)),a}},w.debounce=function(t,e,n){var i,r,a,o,s,c=function(){var u=w.now()-o;u<e&&u>=0?i=setTimeout(c,e-u):(i=null,n||(s=t.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=w.now();var u=n&&!i;return i||(i=setTimeout(c,e)),u&&(s=t.apply(a,r),a=r=null),s}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},w.once=w.partial(w.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return E&&i(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var n in t)e.push(n);return E&&i(t,e),e},w.values=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},w.mapObject=function(t,e,n){e=b(e,n);for(var i,r=w.keys(t),a=r.length,o={},s=0;s<a;s++)i=r[s],o[i]=e(t[i],i,t);return o},w.pairs=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},w.invert=function(t){for(var e={},n=w.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=x(w.allKeys),w.extendOwn=w.assign=x(w.keys),w.findKey=function(t,e,n){e=b(e,n);for(var i,r=w.keys(t),a=0,o=r.length;a<o;a++)if(i=r[a],e(t[i],i,t))return i},w.pick=function(t,e,n){var i,r,a={},o=t;if(null==o)return a;w.isFunction(e)?(r=w.allKeys(o),i=y(e,n)):(r=N(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var s=0,c=r.length;s<c;s++){var u=r[s],l=o[u];i(l,u,o)&&(a[u]=l)}return a},w.omit=function(t,e,n){if(w.isFunction(e))e=w.negate(e);else{var i=w.map(N(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(i,e)}}return w.pick(t,e,n)},w.defaults=x(w.allKeys,!0),w.create=function(t,e){var n=_(t);return e&&w.extendOwn(n,e),n},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var n=w.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),a=0;a<i;a++){var o=n[a];if(e[o]!==r[o]||!(o in r))return!1}return!0};var T=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=p.call(t);if(r!==p.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(w.isFunction(o)&&o instanceof o&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),a){if((c=t.length)!==e.length)return!1;for(;c--;)if(!T(t[c],e[c],n,i))return!1}else{var u,l=w.keys(t);if(c=l.length,w.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!w.has(e,u)||!T(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(t,e){return T(t,e)},w.isEmpty=function(t){return null==t||(j(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length)},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=h||function(t){return"[object Array]"===p.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&f.call(t,e)},w.noConflict=function(){return r._=a,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=S,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=w.invert(F),W=function(t){var e=function(e){return t[e]},n="(?:"+w.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};w.escape=W(F),w.unescape=W(I),w.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),w.isFunction(i)?i.call(t):i};var M=0;w.uniqueId=function(t){var e=++M+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=function(t){return"\\"+B[t]};w.template=function(t,e,n){!e&&n&&(e=n),e=w.defaults({},e,w.templateSettings);var i=RegExp([(e.escape||/(.)^/).source,(e.interpolate||/(.)^/).source,(e.evaluate||/(.)^/).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(i,function(e,n,i,o,s){return a+=t.slice(r,s).replace(/\\|'|\r|\n|\u2028|\u2029/g,D),r=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,w)};return s.source="function("+(e.variable||"obj")+"){\n"+a+"}",s},w.chain=function(t){var e=w(t);return e._chain=!0,e};var R=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),R(this,n.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],R(this,n)}}),w.each(["concat","join","slice"],function(t){var e=o[t];w.prototype[t]=function(){return R(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this),function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(t){}t(e,exports,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,i){var r=t.Backbone,a=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],c(t,this),r)};case 4:return function(t,r,a){return n[e](this[i],c(t,this),r,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},s=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=o(e,r,i))})},c=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},p=/\s+/,f=function(t,e,i,r,a){var o,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in a&&void 0===a.context&&(a.context=r);for(o=n.keys(i);s<o.length;s++)e=f(t,e,o[s],i[o[s]],a)}else if(i&&p.test(i))for(o=i.split(p);s<o.length;s++)e=t(e,o[s],r,a);else e=t(e,i,r,a);return e};l.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){if(t._events=f(d,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){(t._listeners||(t._listeners={}))[r.id]=r}return t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[r];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[r]={obj:t,objId:r,id:s,listeningTo:a,count:0}}return h(t,e,i,this,o),this};var d=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),a=i.context,o=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:a,ctx:a||o,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=f(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var a=t?[t._listenId]:n.keys(r),o=0;o<a.length;o++){var s=r[a[o]];if(!s)break;s.obj.off(e,i,this)}return this};var g=function(t,e,i,r){if(t){var a,o=0,s=r.context,c=r.listeners;if(e||i||s){for(var u=e?[e]:n.keys(t);o<u.length;o++){e=u[o];var l=t[e];if(!l)break;for(var p=[],f=0;f<l.length;f++){var h=l[f];i&&i!==h.callback&&i!==h.callback._callback||s&&s!==h.context?p.push(h):(a=h.listening)&&0==--a.count&&(delete c[a.id],delete a.listeningTo[a.objId])}p.length?t[e]=p:delete t[e]}return t}for(var d=n.keys(c);o<d.length;o++)a=c[d[o]],delete c[a.id],delete a.listeningTo[a.objId]}};l.once=function(t,e,i){var r=f(v,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},l.listenToOnce=function(t,e,i){var r=f(v,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var v=function(t,e,i,r){if(i){var a=t[e]=n.once(function(){r(e,a),i.apply(this,arguments)});a._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return f(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],a=t.all;r&&a&&(a=a.slice()),r&&w(r,i),a&&w(a,[e].concat(i))}return t},w=function(t,e){var n,i=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var a=i.unset,o=i.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,p=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(u[f],e)||s.push(f),n.isEqual(p[f],e)?delete l[f]:l[f]=e,a?delete u[f]:u[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=i);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,u[s[h]],i)}if(c)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var a=t[r];n.isEqual(e[r],a)||(i[r]=a)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},A(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var a=i.wait;if(r&&!a){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,s=i.success,c=this.attributes;i.success=function(t){o.attributes=c;var e=i.parse?o.parse(t,i):t;if(a&&(e=n.extend({},r,e)),e&&!o.set(e,i))return!1;s&&s.call(i.context,o,t,i),o.trigger("sync",o,t,i)},A(this,i),r&&a&&(this.attributes=n.extend({},c,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var l=this.sync(u,this,i);return this.attributes=c,l},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&a(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(A(this,t),o=this.sync("delete",this,t)),r||a(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||E();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),s(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),a=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<a;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+a+n]=r[i]};n.extend(b.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,_))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var a,o,s=[],c=[],u=[],l=[],p={},f=e.add,h=e.merge,d=e.remove,g=!1,v=this.comparator&&null==r&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){a=t[o];var w=this.get(a);if(w){if(h&&a!==w){var y=this._isModel(a)?a.attributes:a;e.parse&&(y=w.parse(y,e)),w.set(y,e),u.push(w),v&&!g&&(g=w.hasChanged(m))}p[w.cid]||(p[w.cid]=!0,s.push(w)),t[o]=w}else f&&(a=t[o]=this._prepareModel(a,e))&&(c.push(a),this._addReference(a,e),p[a.cid]=!0,s.push(a))}if(d){for(o=0;o<this.length;o++)a=this.models[o],p[a.cid]||l.push(a);l.length&&this._removeModels(l,e)}var b=!1,_=!v&&f&&d;if(s.length&&_?(b=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):c.length&&(v&&(g=!0),S(this.models,c,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<c.length;o++)null!=r&&(e.index=r+o),a=c[o],a.trigger("add",a,this,e);(g||b)&&this.trigger("sort",this,e),(c.length||l.length||u.length)&&(e.changes={added:c,removed:l,merged:u},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},A(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,a=e.success;return e.success=function(t,e,n){i&&r.add(t,n),a&&a.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var a=this.indexOf(r);this.models.splice(a,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=a,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);r!==a&&(null!=r&&delete this._byId[r],null!=a&&(this._byId[a]=e))}}this.trigger.apply(this,arguments)}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var P=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(P.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(/^(\S+)\s*(.*)$/);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var a=j[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||E()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var c=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,c&&c.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,u,r),u};var j={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};n.extend(C.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return e.history.route(t,function(n){var o=a._extractParameters(t,n);!1!==a.execute(r,o,i)&&(a.trigger.apply(a,["route:"+i].concat(o)),a.trigger("route",i,o),e.history.trigger("route",a,i,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},
navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(t,e){return e?t:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)};N.started=!1,n.extend(N.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(/^[#\/]|\s+$/g,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(/^\/+|\/+$/g,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!N.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(/#.*$/,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new N;var k=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};y.extend=b.extend=C.extend=P.extend=N.extend=k;var E=function(){throw new Error('A "url" property or function must be specified')},A=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}),function(t,e){"undefined"!=typeof exports?module.exports=e(require("jquery"),require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["jquery","underscore","backbone"],e):e(t.$,t._,t.Backbone)}(this,function(t,e,n){"use strict";return n.NestedModel=n.Model.extend({get:function(t){return n.NestedModel.walkThenGet(this.attributes,t)},previous:function(t){return n.NestedModel.walkThenGet(this._previousAttributes,t)},has:function(t){var n=this.get(t);return!(null===n||e.isUndefined(n))},set:function(t,i,r){var a,o,s,c=n.NestedModel.deepClone(this.attributes);if(e.isString(t)?a=n.NestedModel.attrPath(t):e.isArray(t)&&(a=t),a)r=r||{},this._setAttr(c,a,i,r);else{r=i||{};var u=t;for(var l in u)u.hasOwnProperty(l)&&this._setAttr(c,n.NestedModel.attrPath(l),r.unset?void 0:u[l],r)}return this._nestedChanges=n.NestedModel.__super__.changedAttributes.call(this),r.unset&&a&&1===a.length?(o={},o[t]=void 0,this._nestedChanges=e.omit(this._nestedChanges,e.keys(o)),s=n.NestedModel.__super__.set.call(this,o,r)):(o=c,r.unset&&a?(r=e.extend({},r),delete r.unset):r.unset&&e.isObject(t)&&(o=t),this._nestedChanges=e.omit(this._nestedChanges,e.keys(o)),s=n.NestedModel.__super__.set.call(this,o,r)),s?(this._runDelayedTriggers(),this):(this.changed={},this._nestedChanges={},!1)},unset:function(t,n){return this.set(t,void 0,e.extend({},n,{unset:!0}))},clear:function(t){this._nestedChanges={},t=t||{};var n=e.clone(this.attributes);if(!t.silent&&this.validate&&!this.validate(n,t))return!1;var i=this.changed={},r=this,a=function(t,n,o){e.each(t,function(s,c){var u=n;e.isArray(t)?u+="["+c+"]":n?u+="."+c:u=c,s=t[c],e.isObject(s)&&a(s,u,o),o.silent||r._delayedChange(u,null,o),i[u]=null})};return a(this.attributes,"",t),this.attributes={},t.silent||this._delayedTrigger("change"),this._runDelayedTriggers(),this},add:function(t,n,i){var r=this.get(t);if(!e.isArray(r))throw new Error("current value is not an array");return this.set(t+"["+r.length+"]",n,i)},remove:function(t,i){i=i||{};var r=n.NestedModel.attrPath(t),a=e.initial(r),o=this.get(a),s=e.last(r);if(!e.isArray(o))throw new Error("remove() must be called on a nested array");var c=!i.silent&&o.length>=s+1,u=o[s];if(o.splice(s,1),i.silent=!0,this.set(a,o,i),c){t=n.NestedModel.createAttrStr(a),this.trigger("remove:"+t,this,u);for(var l=a.length;l>=1;l--)t=n.NestedModel.createAttrStr(e.first(a,l)),this.trigger("change:"+t,this,u);this.trigger("change",this,u)}return this},changedAttributes:function(t){var i=n.NestedModel.__super__.changedAttributes.call(this,t);return!!e.isObject(i)&&e.extend({},this._nestedChanges,i)},toJSON:function(){return n.NestedModel.deepClone(this.attributes)},_getDelayedTriggers:function(){return void 0===this._delayedTriggers&&(this._delayedTriggers=[]),this._delayedTriggers},_delayedTrigger:function(){this._getDelayedTriggers().push(arguments)},_delayedChange:function(t,e,n){this._delayedTrigger("change:"+t,this,e,n),this.changed||(this.changed={}),this.changed[t]=e},_runDelayedTriggers:function(){for(;this._getDelayedTriggers().length>0;)this.trigger.apply(this,this._getDelayedTriggers().shift())},_setAttr:function(t,i,r,a){a=a||{};var o=i.length,s=this;n.NestedModel.walkPath(t,i,function(t,c,u){var l=e.last(c),p=n.NestedModel.createAttrStr(c),f=!e.isEqual(t[l],r);if(c.length===o){if(a.unset){if(delete t[l],e.isArray(t)){var h=n.NestedModel.createAttrStr(e.initial(i));s._delayedTrigger("remove:"+h,s,t[l])}}else t[l]=r;if(!a.silent&&e.isObject(r)&&f){var d=[],g=function(t,n){if(!(e.indexOf(d,t)>-1)){d.push(t);var i,r;for(var o in t)t.hasOwnProperty(o)&&(i=n+"."+o,r=t[o],e.isEqual(s.get(i),r)||s._delayedChange(i,r,a),e.isObject(r)&&g(r,i))}};g(r,p)}}else t[l]||(e.isNumber(u)?t[l]=[]:t[l]={});a.silent||(c.length>1&&f&&s._delayedChange(p,t[l],a),e.isArray(t[l])&&s._delayedTrigger("add:"+p,s,t[l]))})}},{attrPath:function(t){var n;return e.isString(t)?(n=""===t?[""]:t.match(/[^\.\[\]]+/g),n=e.map(n,function(t){return t.match(/^\d+$/)?parseInt(t,10):t})):n=t,n},createAttrStr:function(t){var n=t[0];return e.each(e.rest(t),function(t){n+=e.isNumber(t)?"["+t+"]":"."+t}),n},deepClone:function(e){return t.extend(!0,{},e)},walkPath:function(t,e,n,i){for(var r,a=t,o=0;o<e.length&&(n.call(i||this,a,e.slice(0,o+1),e[o+1]),r=e[o],a=a[r]);o++);},walkThenGet:function(t,i){var r,a=n.NestedModel.attrPath(i);return n.NestedModel.walkPath(t,a,function(t,n){var i=e.last(n);n.length===a.length&&(r=t[i])}),r}}),n}),function(t){function e(){for(var t=0,e=a.length;t<e;t++)a[t].call(i);a.length=0}function n(t){return t=u(t)?t:function(){},a.push(t),r?void e():"uexWindow"in window?(r=!0,void e()):void(a.length>1||(u(window.uexOnload)&&a.unshift(window.uexOnload),window.uexOnload=function(t){o=!0,i.isAppcan=!0,t||(r=!0,e())}))}var i={},r=!1,a=[],o=!1;i.modules={};var s=function(){var t=0;return function(){return t=(t+1)%65536}}(),c=function(t){t=t||6,t=parseInt(t,10),t=isNaN(t)?6:t;for(var e="0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ",n=e.length-1,i="";t--;)i+=e[Math.round(Math.random()*n)];return i},u=function(t){return"[object Function]"===Object.prototype.toString.call(t)},l=function(t){return"[object String]"===Object.prototype.toString.call(t)},p=function(t){return"[object Object]"===Object.prototype.toString.call(t)},f=function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(t){return null!=t&&t==t.window},d=function(t){return p(t)&&!h(t)&&Object.getPrototypeOf(t)==Object.prototype},g=function(t,e,n){var i=null;for(i in e)n&&(d(e[i])||f(e[i]))?(d(e[i])&&!d(t[i])&&(t[i]={}),f(e[i])&&!f(t[i])&&(t[i]=[]),g(t[i],e[i],n)):void 0!==e[i]&&(t[i]=e[i]);return t};i.version="1.0.0 Beta";var v={moduleName:"模块的名字必须为字符串并且不能为空！",moduleFactory:"模块构造对象必须是函数！"};i.define=function(t,e){if(u(t)&&(t="",e=t),!t||!l(t))throw new Error(v.moduleName);if(!u(e))throw new Error(v.moduleFactory);var n={exports:{}},r=e.call(this,i.require("dom"),n.exports,n),a=n.exports||r;return t in i?(i[t]=[i.name],i[t].push(a)):i[t]=a,a},i.extend=function(t,e){if(arguments.length>1&&d(t))return g.apply(i,arguments);(u(t)||d(t))&&(e=t,t=""),t=t||this;var n=i.require(t);n=n||this;var r={exports:{}},a=null,o=r.exports;return u(e)&&(a=e.call(this,n,o,r),a=a||r.exports,g(n,a)),d(e)&&g(n,e),n},i.require=function(t){if(!t)throw new Error(v.moduleName);if(!l(t))return t;var e=i[t];return f(e)&&e.length<2?e[0]:e||null},i.use=function(t,e){if(u(t)&&(e=t,t=[]),l(t)&&(t=[t],e=e),!f(t))throw new Error("以来模块参数不正确！");var n=[];n.push(i.require("dom"));for(var r=0,a=t.length;r<a;r++)n.push(i.require(t[r]));return e.apply(i,n)},i.extend({isPlainObject:d,isFunction:u,isString:l,isArray:f,isAppcan:o,getOptionId:s,getUID:c}),i.inherit=function(t,e,n){u(t)?t=t:(n=e,e=t,t=function(){});var i;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments),this.initated&&this.initated.apply(this,arguments),this},g(i,t),g(i,n);var r=function(){this.constructor=i};return r.prototype=t.prototype,i.prototype=new r,e&&g(i.prototype,e),i.__super__=t.prototype,i},i.ready=n,t.appcan=i}(this),window.appcan&&window.appcan.define("dom",function(t,e,n){n.exports=Zepto}),window.appcan&&appcan.define("Backbone",function(t,e,n){n.exports=Backbone}),window.appcan&&appcan.define("_",function(t,e,n){n.exports=_}),window.appcan&&appcan.define("underscore",function(t,e,n){n.exports=_}),window.appcan&&appcan.extend(function(t,e,n){var i=function(t){try{window.uexLog?window.uexLog&&uexLog.sendLog(t):console&&console.log(t)}catch(t){return t}};t.logs=i}),window.appcan&&appcan.extend("dom",function(t,e,n){appcan.isAppcan}),appcan&&appcan.define("detect",function(t,e,n){var i={},r={},a=window.navigator.userAgent,o=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/\(Macintosh\; Intel .*OS X ([\d_.]+).+\)/),u=a.match(/(iPad).*OS\s([\d_]+)/),l=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&a.match(/(iPhone\sOS)\s([\d_]+)/),f=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=a.match(/Windows Phone ([\d.]+)/),d=f&&a.match(/TouchPad/),g=a.match(/Kindle\/([\d.]+)/),v=a.match(/Silk\/([\d._]+)/),m=a.match(/(BlackBerry).*Version\/([\d.]+)/),w=a.match(/(BB10).*Version\/([\d.]+)/),y=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=a.match(/PlayBook/),x=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),_=a.match(/Firefox\/([\d.]+)/),S=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),P=!x&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),O=P||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(r.webkit=!!o)&&(r.version=o[1]),s&&(i.name="android",i.android=!0,i.version=s[2]),p&&!l&&(i.name="iphone",i.ios=i.iphone=!0,i.version=p[2].replace(/_/g,".")),u&&(i.name="ipad",i.ios=i.ipad=!0,i.version=u[2].replace(/_/g,".")),l&&(i.name="ipod",i.ios=i.ipod=!0,i.version=l[3]?l[3].replace(/_/g,"."):null),h&&(i.name="wp",i.wp=!0,i.version=h[1]),f&&(i.name="webos",i.webos=!0,i.version=f[2]),d&&(i.name="touchpad",i.touchpad=!0),m&&(i.name="blackberry",i.blackberry=!0,i.version=m[2]),w&&(i.name="bb10",i.bb10=!0,i.version=w[2]),y&&(i.name="rimtabletos",i.rimtabletos=!0,i.version=y[2]),b&&(r.name="playbook",r.playbook=!0),g&&(i.name="kindle",i.kindle=!0,i.version=g[1]),v&&(r.name="silk",r.silk=!0,r.version=v[1]),!v&&i.android&&a.match(/Kindle Fire/)&&(r.name="silk",r.silk=!0),x&&(r.name="chrome",r.chrome=!0,r.version=x[1]),_&&(r.name="firefox",r.firefox=!0,r.version=_[1]),S&&(r.name="ie",r.ie=!0,r.version=S[1]),O&&(c||i.ios)&&(r.name="safari",r.safari=!0,c&&(r.version=O[1])),c&&(i.name="osx",i.version=c[1].split("_").join(".")),P&&(r.name="webview",r.webview=!0),appcan.isAppcan&&(r.name="appcan",r.appcan=!0),i.tablet=!!(u||b||s&&!a.match(/Mobile/)||_&&a.match(/Tablet/)||S&&!a.match(/Phone/)&&a.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(s||p||f||m||w||x&&a.match(/Android/)||x&&a.match(/CriOS\/([\d.]+)/)||_&&a.match(/Mobile/)||S&&a.match(/Touch/)));var j={supportTouch:function(){return!!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof window.DocumentTouch)}()},C={support3d:function(){for(var t=document.createElement("div"),e=!1,n=["perspectiveProperty","WebkitPerspective"],i=n.length-1;i>=0;i--)e=e||void 0!==t.style[n[i]];if(e){var r=document.createElement("style");r.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}",document.getElementsByTagName("head")[0].appendChild(r),t.id="test3d",document.documentElement.appendChild(t),e=3===t.offsetHeight,r.parentNode.removeChild(r),t.parentNode.removeChild(t)}return e}()};n.exports={browser:r,os:i,event:j,css:C,ua:a}}),appcan&&appcan.define("crypto",function(t,e,n){function i(t){for(var e,n=[],i=0,r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)i=(i+n[r]+t.charCodeAt(r%t.length))%256,e=n[r],n[r]=n[i],n[i]=e;return n}function r(t,e){var n=0,i=0,r="",a=[],o=null;a=a.concat(e);for(var s=0;s<t.length;s++){n=(n+1)%256,i=(i+a[n])%256,o=a[n],a[n]=a[i],a[i]=o;var c=t.charCodeAt(s)^a[(a[n]+a[i])%256]||t.charCodeAt(s);r+=String.fromCharCode(c)}return r}function a(t,e){return t&&e?r(e,i(t)):""}function o(t){function e(t){var e=(t>>>0).toString(16);return"00000000".substr(0,8-e.length)+e}function n(t){for(var e=[],n=0;n<8;n++)e.push(255&t),t>>>=8;return e}function i(t,e){return t<<e&4294967295|t>>>32-e}function r(t,e,n){return t&e|~t&n}function a(t,e,n){return n&t|~n&e}function o(t,e,n){return t^e^n}function s(t,e,n){return e^(t|~n)}function c(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var i=encodeURIComponent(t.charAt(n)).substr(1).split("%"),r=0;r<i.length;r++)e.push(parseInt(i[r],16));return e}function l(t,n,i,r){for(var a="",o=0,s=0,c=3;c>=0;c--)s=arguments[c],o=255&s,s>>>=8,o<<=8,o|=255&s,s>>>=8,o<<=8,o|=255&s,s>>>=8,o<<=8,o|=s,a+=e(o);return a}function p(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}function f(t,e){return 4294967295&t+e}var h=null,d=null;return"string"==typeof t?h=u(t):t.constructor==Array?0===t.length?h=t:"string"==typeof t[0]?h=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(u(t[n]));return e}(t):"number"==typeof t[0]?h=t:d=typeof t[0]:"undefined"!=typeof ArrayBuffer?t instanceof ArrayBuffer?h=p(new Uint8Array(t)):t instanceof Uint8Array||t instanceof Int8Array?h=p(t):t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Float32Array||t instanceof Float64Array?h=p(new Uint8Array(t.buffer)):d=typeof t:d=typeof t,d&&alert("MD5 type mismatch, cannot process "+d),function(){function t(t,e,n,r){var a=x;x=b,b=y,y=f(y,i(f(w,f(t,f(e,n))),r)),w=a}var e=h.length;h.push(128);var u=h.length%64;if(u>56){for(var p=0;p<64-u;p++)h.push(0);u=h.length%64}for(p=0;p<56-u;p++)h.push(0);h=h.concat(n(8*e));var d=1732584193,g=4023233417,v=2562383102,m=271733878,w=0,y=0,b=0,x=0;for(p=0;p<h.length/64;p++){w=d,y=g,b=v,x=m;var _=64*p;t(r(y,b,x),3614090360,c(h,_),7),t(r(y,b,x),3905402710,c(h,_+4),12),t(r(y,b,x),606105819,c(h,_+8),17),t(r(y,b,x),3250441966,c(h,_+12),22),t(r(y,b,x),4118548399,c(h,_+16),7),t(r(y,b,x),1200080426,c(h,_+20),12),t(r(y,b,x),2821735955,c(h,_+24),17),t(r(y,b,x),4249261313,c(h,_+28),22),t(r(y,b,x),1770035416,c(h,_+32),7),t(r(y,b,x),2336552879,c(h,_+36),12),t(r(y,b,x),4294925233,c(h,_+40),17),t(r(y,b,x),2304563134,c(h,_+44),22),t(r(y,b,x),1804603682,c(h,_+48),7),t(r(y,b,x),4254626195,c(h,_+52),12),t(r(y,b,x),2792965006,c(h,_+56),17),t(r(y,b,x),1236535329,c(h,_+60),22),t(a(y,b,x),4129170786,c(h,_+4),5),t(a(y,b,x),3225465664,c(h,_+24),9),t(a(y,b,x),643717713,c(h,_+44),14),t(a(y,b,x),3921069994,c(h,_),20),t(a(y,b,x),3593408605,c(h,_+20),5),t(a(y,b,x),38016083,c(h,_+40),9),t(a(y,b,x),3634488961,c(h,_+60),14),t(a(y,b,x),3889429448,c(h,_+16),20),t(a(y,b,x),568446438,c(h,_+36),5),t(a(y,b,x),3275163606,c(h,_+56),9),t(a(y,b,x),4107603335,c(h,_+12),14),t(a(y,b,x),1163531501,c(h,_+32),20),t(a(y,b,x),2850285829,c(h,_+52),5),t(a(y,b,x),4243563512,c(h,_+8),9),t(a(y,b,x),1735328473,c(h,_+28),14),t(a(y,b,x),2368359562,c(h,_+48),20),t(o(y,b,x),4294588738,c(h,_+20),4),t(o(y,b,x),2272392833,c(h,_+32),11),t(o(y,b,x),1839030562,c(h,_+44),16),t(o(y,b,x),4259657740,c(h,_+56),23),t(o(y,b,x),2763975236,c(h,_+4),4),t(o(y,b,x),1272893353,c(h,_+16),11),t(o(y,b,x),4139469664,c(h,_+28),16),t(o(y,b,x),3200236656,c(h,_+40),23),t(o(y,b,x),681279174,c(h,_+52),4),t(o(y,b,x),3936430074,c(h,_),11),t(o(y,b,x),3572445317,c(h,_+12),16),t(o(y,b,x),76029189,c(h,_+24),23),t(o(y,b,x),3654602809,c(h,_+36),4),t(o(y,b,x),3873151461,c(h,_+48),11),t(o(y,b,x),530742520,c(h,_+60),16),t(o(y,b,x),3299628645,c(h,_+8),23),t(s(y,b,x),4096336452,c(h,_),6),t(s(y,b,x),1126891415,c(h,_+28),10),t(s(y,b,x),2878612391,c(h,_+56),15),t(s(y,b,x),4237533241,c(h,_+20),21),t(s(y,b,x),1700485571,c(h,_+48),6),t(s(y,b,x),2399980690,c(h,_+12),10),t(s(y,b,x),4293915773,c(h,_+40),15),t(s(y,b,x),2240044497,c(h,_+4),21),t(s(y,b,x),1873313359,c(h,_+32),6),t(s(y,b,x),4264355552,c(h,_+60),10),t(s(y,b,x),2734768916,c(h,_+24),15),t(s(y,b,x),1309151649,c(h,_+52),21),t(s(y,b,x),4149444226,c(h,_+16),6),t(s(y,b,x),3174756917,c(h,_+44),10),t(s(y,b,x),718787259,c(h,_+8),15),t(s(y,b,x),3951481745,c(h,_+36),21),d=f(d,w),g=f(g,y),v=f(v,b),m=f(m,x)}return l(m,v,g,d).toUpperCase()}()}function s(t){var e,n,i,r,a,o,s,c="",l=0;for(t=u(t);l<t.length;)e=t.charCodeAt(l++),n=t.charCodeAt(l++),i=t.charCodeAt(l++),r=e>>2,a=(3&e)<<4|n>>4,o=(15&n)<<2|i>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),c=c+f.charAt(r)+f.charAt(a)+f.charAt(o)+f.charAt(s);return c}function c(t){var e,n,i,r,a,o,s,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=f.indexOf(t.charAt(u++)),a=f.indexOf(t.charAt(u++)),o=f.indexOf(t.charAt(u++)),s=f.indexOf(t.charAt(u++)),e=r<<2|a>>4,n=(15&a)<<4|o>>2,i=(3&o)<<6|s,c+=String.fromCharCode(e),64!=o&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=l(c)}function u(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}function l(t){for(var e="",n=0,i=c1=c2=0;n<t.length;)i=t.charCodeAt(n),i<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return e}function p(t,e){var n=[],i="",r=0,a=0;for(r=0;r<256;r++)n[r]=r,a=(a+n[r]+t.charCodeAt(r%t.length))%256,n[a]=[n[r],n[r]=n[a]][0];r=a=0;for(var o=0;o<e.length;o++)r=(r+1)%256,a=(a+n[r])%256,n[r]=[n[a],n[a]=n[r]][0],i+=String.fromCharCode(e.charCodeAt(o)^n[(n[r]+n[a])%256])||e.charCodeAt(o);return i}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.exports={rc4:a,rc4New:p,md5:o,base64Encode:s,base64Decode:c}}),appcan&&appcan.define("database",function(t,e,n){var i=appcan.require("eventEmitter"),r=appcan.getOptionId,a=function(t){this.name=t},o={constructor:a,select:function(t,e){var n=this,i=r();if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.callback,t=t.sql),appcan.isFunction(e)){if(!t)return e(new Error("sql 为空"));uexDataBaseMgr.cbSelectSql=function(t,i,r){if(1!=i)return e(new Error("select error"));e(null,r,i,t),n.emit("select",null,r,i,t)}}uexDataBaseMgr.selectSql(this.name,i,t)},exec:function(t,e){var n=this,i=r();if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.callback,t=t.sql),appcan.isFunction(e)){if(!t)return e(new Error("sql 为空"));uexDataBaseMgr.cbExecuteSql=function(t,i,r){if(2!=i)return e(new Error("exec sql error"));e(null,r,i,t),n.emit("select",null,r,i,t)}}uexDataBaseMgr.executeSql(this.name,i,t)},transaction:function(t,e){var n=this,i=r();if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.callback,t=t.sqlFun),appcan.isFunction(e)){if(!appcan.isFunction(t))return e(new Error("exec transaction error"));window.uexDataBaseMgr.cbTransaction=function(t,i,r){if(2!=i)return e(new Error("exec transaction!"));e(null,r,i,t),n.emit("transaction",null,r,i,t)}}uexDataBaseMgr.transaction(this.name,i,t)}};appcan.extend(o,i),a.prototype=o;var s={create:function(t,e,n){var i=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.name,e=i.optId,n=i.callback),!t)return void n(new Error("数据库名字不能为空！"));appcan.isFunction(e)&&(n=e,e=""),appcan.isFunction(n)&&(uexDataBaseMgr.cbOpenDataBase=function(e,i,r){if(2!=i)return n(new Error("open database error"));var o=new a(t);n(null,r,o,i,e),this.emit("open",null,r,o,i,e)}),uexDataBaseMgr.openDataBase(t,e)},destory:function(t,e,n){var i=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.name,e=i.optId,n=i.callback),t){if(appcan.isFunction(e)&&(n=e,e=""),appcan.isFunction(n)){if(!t)return void n(new Error("数据库名字不能为空！"));uexDataBaseMgr.cbCloseDataBase=function(t,e,i){if(2!=e)return n(new Error("close database error"));n(null,i,e,t),this.emit("close",null,i,e,t)}}uexDataBaseMgr.closeDataBase(t,e)}},select:function(t,e,n){if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.sql,n=t.callback,t=t.name),!t||!appcan.isString(t))return n(new Error("数据库名不为空"));new a(t).select(e,n)},exec:function(t,e,n){if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.sql,n=t.callback,t=t.name),!t||!appcan.isString(t))return n(new Error("数据库名不为空"));new a(t).exec(e,n)},translaction:function(t,e,n){if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.sqlFun,n=t.callback,t=t.name),!t||!appcan.isString(t))return n(new Error("数据库名不为空"));new a(t).transaction(e,n)}};s=appcan.extend(s,i),n.exports=s}),window.appcan&&appcan.define("device",function(t,e,n){function i(t){t=parseInt(t,10),t=isNaN(t)?0:t,uexDevice.vibrate(t)}function r(){uexDevice.cancelVibrate()}function a(t,e){1===arguments.length&&appcan.isPlainObject(t)&&(e=t.callback,t=t.infoId),appcan.isFunction(e)&&(uexDevice.cbGetInfo=function(n,i,r){if(1!=i)return e(new Error("get info error"+t));e(null,r,i,n)}),uexDevice.getInfo(t)}function o(t){for(var e={},n=0;n<18;n++)a(n,function(i,r){if(s++,i)return t(i);var a=JSON.parse(r);appcan.extend(e,a),t(e,a,n,18,s)});return e}var s=0;n.exports={vibrate:i,cancelVibrate:r,getInfo:a,getDeviceInfo:o}}),appcan&&appcan.define("eventEmitter",function(t,e,n){var i={on:function(t,e){this.__events||(this.__events={}),this.__events[t]?this.__events[t].push(e):this.__events[t]=[e]},off:function(t,e){if(this.__events&&t in this.__events)for(var n=0,i=this.__events[t].length;n<i;n++)if(this.__events[t][n]===e)return void this.__events[t].splice(n,1)},once:function(t,e){var n=this,i=function(){e.apply(n,arguments),n.off(i)};this.on(t,i)},addEventListener:function(){return this.on.apply(this,arguments)},removeEventListener:function(){return this.off.apply(this,arguments)},trigger:function(t,e){var n=[].slice.call(arguments,2);if(this.__events&&appcan.isString(t)&&(e=e||this,t&&t in this.__events))for(var i=0,r=this.__events[t].length;i<r;i++)this.__events[t][i].apply(e,n)},emit:function(){return this.trigger.apply(this,arguments)}};appcan.extend(i),n.exports=i}),appcan&&appcan.define("file",function(t,e,n){function i(t,e,n){var i=null,r=null;T["exist_call_"+t]?(i=T["exist_call_"+t].cb,r=T["exist_call_"+t].fp):1==T.length&&(i=T[0].cb,r=T[0].fp),appcan.isFunction(i)&&(2==e?i(null,n,e,t,r):i(new Error("exist file error"),n,e,t,r)),delete T["exist_call_"+t]}function r(t,e,n){var r=null;1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.filePath,e=r.callback,n=r.optId),n=n||A(),appcan.isFunction(e)&&(T["exist_call_"+n]={cb:e,fp:t},uexFileMgr.cbIsFileExistByPath=function(t,e,n){i.apply(null,arguments)}),uexFileMgr.isFileExistByPath(n,t),_(n)}function a(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback),M.length>0?M.push({fp:t,cb:e}):(M.push({fp:t,cb:e}),o())}function o(){if(!(M.length<1)){var t=M[0],e=t.fp,n=t.cb;appcan.isFunction(n)?uexFileMgr.cbGetFileTypeByPath=function(t,i,r){if(2!=i)return void n(new Error("get file type error"),null,i,t,e);var a={};0==r&&(a.isFile=!0),1==r&&(a.isDirectory=!0),n(null,a,i,t,e),M.shift(),M.length&&o()}:(M.shift(),M.length&&o()),uexFileMgr.getFileTypeByPath(e)}}function s(e,n,i,r){I.length>0&&t.each(I,function(t,a){a&&a.cb&&appcan.isFunction(a.cb)&&a.readOptId==r&&a.cb(e,n,i,r)})}function c(e,n,i,r){W.length>0&&t.each(W,function(t,a){a&&a.cb&&appcan.isFunction(a.cb)&&a.optId==r&&a.cb(e,n,i,r)})}function u(e,n,i){var o=null;if(1===arguments.length&&appcan.isPlainObject(e)&&(o=e,e=o.filePath,n=o.length,i=o.callback),!e)return i(new Error("file name is empty"));appcan.isFunction(n)&&(i=n,n=-1),i=appcan.isFunction(i)?i:function(){},n=n||-1;var c=A();I.push({fPath:e,cb:i,readOptId:c}),r(e,function(e,i,r,o,c){e&&t.each(I,function(t,n){if(n&&n.fPath==c)return n.cb(e)}),i||t.each(I,function(t,e){if(e&&e.fPath==c)return e.cb(new Error("文件不存在"))}),a(c,function(e,i,r,a,o){e&&t.each(I,function(t,n){if(n&&n.fPath==o)return n.cb(e)}),i.isFile||t.each(I,function(t,e){if(e&&e.fPath==o)return e.cb(new Error("该路径不是文件"))}),uexFileMgr.cbReadFile=function(t,e,n){0!=e&&s(new Error("read file error"),n,e,t),s(null,n,e,t)},y(o,1,function(t,e,i,r){uexFileMgr.readFile(r,n),_(r)})})},c)}function l(t,e,n,i){var o=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(o=t,t=o.filePath,e=o.length,n=o.key,i=o.callback),!t)return i(new Error("file name is empty"));i=appcan.isFunction(i)?i:function(){},e=e||-1,r(t,function(r,o){return r?i(r):o?void a(t,function(r,a){return r?i(r):a.isFile?(uexFileMgr.cbReadFile=function(t,e,n){0!=e&&i(new Error("read file error"),n,e,t),i(null,n,e,t)},void b(t,1,n,function(t,n,i,r){uexFileMgr.readFile(r,e),_(r)})):i(new Error("该路径不是文件"))}):i(new Error("文件不存在"))})}function p(t,e){u({filePath:t,callback:function(t,n){var i=null;if(t)return e(t);try{i=n?JSON.parse(n):{},e(null,i)}catch(t){return e(t)}}})}function f(e,n,i,r){F.length>0&&t.each(F,function(t,a){a&&a.cb&&appcan.isFunction(a.cb)&&a.optId==r&&a.cb(e,n,i,r,a.ct)})}function h(t,e,n,i){var r=null;1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.filePath,e=r.content,i=r.mode,n=r.callback),i=i||0,appcan.isFunction(e)&&(n=e,e=""),w(t,2,function(t,e,r,a,o){if(t)return n(t);uexFileMgr.writeFile(a,i,o),_(a),n(null)},e)}function d(t,e,n,i,r){var a=null;1===arguments.length&&appcan.isPlainObject(t)&&(a=t,t=a.filePath,e=a.content,i=a.mode,r=a.key,n=a.callback),i=i||0,appcan.isFunction(e)&&(r=i,i=n,n=e,e=""),b(t,2,r,function(t,r,a,o){if(t)return n(t);uexFileMgr.writeFile(o,i,e),_(o),n(null)})}function g(t,e,n){var i=null;return 1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.filePath,e=i.content,n=i.callback),h(t,e,n,1)}function v(t,e,n,i){var r=null;return 1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.filePath,e=r.content,n=r.key,i=r.callback),d(t,e,i,1,n)}function m(t,e,n){var i=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.filePath,e=i.mode,n=i.callback),appcan.isFunction(e)&&(n=e,e=3),e=e||3,!appcan.isString(t))return n(new Error("文件路径不正确"));appcan.isFunction(n)&&(uexFileMgr.cbOpenFile=function(t,e,i){if(2!=e)return void n(new Error("open file error"),i,e,t);n(null,i,e,t)}),uexFileMgr.openFile(A(),t,e)}function w(t,e,n,i){var r=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.filePath,e=r.mode,n=r.callback),appcan.isFunction(e)&&(n=e,e=3),e=e||3,!appcan.isString(t))return n(new Error("文件路径不正确"));var a=A();F.push({optId:a,cb:n,ct:i}),appcan.isFunction(n)&&(uexFileMgr.cbOpenFile=function(t,e,n){if(2!=e)return void f(new Error("open file error"),n,e,t);f(null,n,e,t)}),uexFileMgr.openFile(a,t,e)}function y(e,n,i){var r=null;if(1===arguments.length&&appcan.isPlainObject(e)&&(r=e,e=r.filePath,n=r.mode,i=r.callback),appcan.isFunction(n)&&(i=n,n=3),n=n||3,!appcan.isString(e))return i(new Error("文件路径不正确"));var a=null;t.each(I,function(t,n){n.fPath&&n.fPath==e&&(a=n.readOptId)}),a||(a=A()),appcan.isFunction(i)&&(W.push({optId:a,cb:i}),uexFileMgr.cbOpenFile=function(t,e,n){if(2!=e)return void c(new Error("open file error"),n,e,t);c(null,n,e,t)}),uexFileMgr.openFile(a,e,n)}function b(t,e,n,i){var r=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.filePath,e=r.mode,n=r.key,i=r.callback),n=n||"",e=e||3,appcan.isFunction(i)||(i=null),!appcan.isString(t))return i(new Error("文件路径不正确"));appcan.isFunction(i)&&(uexFileMgr.cbOpenSecure=function(t,e,n){if(2!=e)return void i(new Error("open secure file error"),n,e,t);i(null,n,e,t)}),uexFileMgr.openSecure(A(),t,e,n)}function x(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback);var i=A();appcan.isFunction(e)&&(uexFileMgr.cbDeleteFileByPath=function(t,n,i){if(2!=n)return e(new Error("delete file error"));e(null,i,n,t)}),
uexFileMgr.deleteFileByPath(t),_(i)}function _(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.optId),t&&uexFileMgr.closeFile(t)}function S(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback);var i=A();appcan.isFunction(e)&&(uexFileMgr.cbCreateFile=function(t,n,i){if(2!=n)return e(new Error("create file error"),i,n,t);e(null,i,n,t)}),uexFileMgr.createFile(i,t),_(i)}function P(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.filePath,e=i.key,n=i.callback),e=e||"";var r=A();appcan.isFunction(n)&&(uexFileMgr.cbCreateSecure=function(t,e,i){if(2!=e)return n(new Error("create secure file error"),i,e,t);n(null,i,e,t)}),uexFileMgr.createSecure(r,t,e),_(r)}function O(t){appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)||(t=function(){}),x(B,t)}function j(t,e){r(B,function(n,i){if(n)return e(n);i?h(B,t,e):S(B,function(n,i){if(n)return e(n);0==i&&h(B,t,e)})})}function C(t){return u(B,t)}function N(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback),uexFileMgr.cbGetFileRealPath=function(t,n,i){if(0!=n)return void e(new Error("get file path error"),i,n,t);e(null,i,n,t)},uexFileMgr.getFileRealPath(t)}function k(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback),uexFileMgr.cbExplorer=function(t,n,i){e(null,i,n,t)},uexFileMgr.explorer(t)}function E(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.filePath,e=n.callback),uexFileMgr.cbMultiExplorer=function(t,n,i){e(null,i,n,t)},uexFileMgr.multiExplorer(t)}var A=appcan.getOptionId,T={},F=[],I=[],W=[],M=[],B="wgt://data/locFile.txt";n.exports={wgtPath:"wgt://",resPath:"res://",wgtRootPath:"wgtroot://",open:m,close:_,read:u,readJSON:p,write:h,create:S,remove:x,append:g,exists:r,stat:a,deleteLocalFile:O,writeLocalFile:j,readLocalFile:C,getRealPath:N,createSecure:P,openSecure:b,readSecure:l,writeSecure:d,appendSecure:v,explorer:k,multiExplorer:E}}),window.appcan&&appcan.define("Model",function(t,e,n){var i=appcan.require("Backbone"),r=i.Model.extend({setToken:function(){}});n.exports=r}),appcan&&appcan.define("request",function(t,e,n){function i(t,e,n){appcan.trigger(e,t,n)}function r(t,e,n,r){if(t.global)return i(e||appcan,n,r)}function a(t){t.global&&0==T++&&r(t,null,"ajaxStart")}function o(t){t.global&&!--T&&r(t,null,"ajaxStop")}function s(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===r(e,n,"ajaxBeforeSend",[t,e]))return!1;r(e,n,"ajaxSend",[t,e])}function c(t,e,n,i,a,o){var s=a.context;a.success.call(s,t,"success",e,n,i),o&&o.resolveWith(s,[t,"success",e,n,i]),r(a,s,"ajaxSuccess",[i,a,t,"success",e,n]),l("success",i,a)}function u(t,e,n,i,a,o){var s=a.context;a.error.call(s,i,e,t,n),o&&o.rejectWith(s,[i,e,t,n]),r(a,s,"ajaxError",[i,a,t||e,n]),l(e,i,a)}function l(t,e,n){var i=n.context;n.complete.call(i,e,t),r(n,i,"ajaxComplete",[e,n]),o(n)}function p(t,e,n){var i=n.context;n.progress.call(i,t,e,status),r(n,i,"ajaxProgress",[t,e,n])}function f(){}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e,n,i,r,a,o,s){var l=e["settings_"+n],p=l.dataType;if(i<0)return null!=r&&""!=r||(r=o),void u(null,"request error",r,e,l,s);if(1==i)if(!a||200==a||a>200&&a<300||304==a){e["settings_"+n]=null;var f=!1;r=r||"";try{"script"==p?(0,eval)(r):"xml"==p?r=r:"json"==p&&(r=E.test(r)?null:t.parseJSON(r))}catch(t){f=t}f?u(f,"parsererror",r,e,l,s):c(r,a,o,e,l,s)}else null!=r&&""!=r||(r=o),u(null,"request error",r,e,l,s);else u(null,"error",r,e,l,s);e.close(n)}function g(t,e,n){p(t,e,e["settings_"+n])}function v(e){e.processData&&e.data&&!appcan.isString(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.data=t.param(e.data,e.traditional),e.url=h(e.url,e.data),e.data=void 0)}function m(e){var n=A(),i=t.extend({},e||{}),r=t.Deferred&&t.Deferred();for(C in F)void 0===i[C]&&(i[C]=F[C]);a(i),i.crossDomain||(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host),i.url||(i.url=window.location.toString()),v(i);var o=i.dataType,c=/\?.+=\?/.test(i.url);if(c&&(o="jsonp"),!1!==i.cache&&(e&&!0===e.cache||"script"!=o&&"jsonp"!=o)||(i.url=h(i.url,"_="+Date.now())),"jsonp"==o)return c||(i.url=h(i.url,i.jsonp?i.jsonp+"=?":!1===i.jsonp?"":"callback=?")),t.ajaxJSONP(i,r);var l=i.accepts[o],p={},m=function(t,e){p[t.toLowerCase()]=[t,e]},w=(/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,i.xhr());if(w["settings_"+n]=i,r&&r.promise(w),i.crossDomain||m("X-Requested-With","XMLHttpRequest"),m("Accept",l||"*/*"),(l=i.mimeType||l)&&(l.indexOf(",")>-1&&(l=l.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(l)),!i.emulateHTTP||"PUT"!==i.type&&"DELETE"!==i.type&&"PATCH"!==i.type||(m("X-HTTP-Method-Override",i.type),i.type="POST"),(i.contentType||!1!==i.contentType&&i.data&&"GET"!=i.type.toUpperCase())&&m("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(var y in i.headers)m(y,i.headers[y]);if(w.setRequestHeader=m,w.onPostProgress=function(t,e){var n=[e];n.push(w),n.push(t),g.apply(null,n)},w.onData=function(){window.abortTimeout&&(clearTimeout(window.abortTimeout),window.abortTimeout=null);for(var t=[w],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);t.push(r),d.apply(null,t)},!1===s(w,i))return w.close(n),u(null,"abort",null,w,i,r),w;if(i.xhrFields)for(y in i.xhrFields)w[y]=i.xhrFields[y];!("async"in i)||i.async;if(w.open(n,i.type,i.url,i.timeout),function(t,e){var i={},r=null;for(var a in e)r=e[a],i[r[0]]=r[1];t.setHeaders(n,JSON.stringify(i))}(w,p),function(t){var e=t.certificate;e&&w.setCertificate&&w.setCertificate(n,e.password||"",e.path)}(i),function(t){!0===t.appVerify&&w.setAppVerify&&w.setAppVerify(n,1),!1===t.appVerify&&w.setAppVerify&&w.setAppVerify(n,0)}(i),i.data&&!1===i.contentType)for(y in i.data)appcan.isPlainObject(i.data[y])?i.data[y].path?w.setPostData(n,"1",y,i.data[y].path):w.setPostData(n,"0",y,JSON.stringify(i.data[y])):w.setPostData(n,"0",y,i.data[y]);else"application/json"===i.contentType&&appcan.isPlainObject(i.data)&&(i.data=JSON.stringify(i.data)),i.data&&w.setBody(n,i.data?i.data:null);return i.timeout>0&&!window.abortTimeout&&(window.abortTimeout=setTimeout(function(){window.abortTimeout&&(clearTimeout(window.abortTimeout),window.abortTimeout=null),w.onData=f,w.close(n),u(null,"timeout",null,w,i,r)},i.timeout)),w.send(n),w}function w(t,e,n,i){return appcan.isFunction(e)&&(i=n,n=e,e=void 0),appcan.isFunction(n)||(i=n,n=void 0),{url:t,data:e,success:n,dataType:i}}function y(){return m(w.apply(null,arguments))}function b(){var t=w.apply(null,arguments);return t.type="POST",m(t)}function x(){var t=w.apply(null,arguments);return t.dataType="json",m(t)}function _(e,n,i,r){var a,o=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){a=t.type(c),r&&(n=i?r:r+"["+(s||"object"==a||"array"==a?n:"")+"]"),!r&&o?e.add(c.name,c.value):"array"==a||!i&&"object"==a?_(e,c,i,n):e.add(n,c)})}function S(t,e){var n=[];return n.add=function(t,e){this.push(I(t)+"="+I(e))},_(n,t,e),n.join("&").replace(/%20/g,"+")}function P(e,n,i){if(e){e=t(e);var r={color:1,date:1,datetime:1,"datetime-local":1,email:1,hidden:1,month:1,number:1,password:1,radio:1,range:1,search:1,tel:1,text:1,time:1,url:1,week:1},a=["input","select","textarea"],o={};n=n||function(){},i=i||function(){};var s=e.attr("method"),c=e.attr("action")||location.href;s=(s||"POST").toUpperCase(),function(){e.find(a.join(",")).each(function(e,n){if("INPUT"===n.tagName){var i=t(n);i.attr("type")in r&&(i.attr("data-ispath")?o[i.attr("name")]={path:i.val()}:o[i.attr("name")]=i.val())}})}(),m({url:c,type:s,data:o,success:n,error:i})}}function O(e,n,i,r){W.length>0&&(t.each(W,function(t,a){a&&appcan.isFunction(a)&&a(e,n,i,r)}),W=[])}function j(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.url,n=i.data,e=i.callback),appcan.isFunction(e)||(e=function(){}),W.push(e);var r,a=appcan.locStorage.val("offlinedata");if(n){var o=JSON.stringify(n),s=t+o;r=appcan.crypto.md5(s)}else r=appcan.crypto.md5(t);if(null!=a)if(dataObj=JSON.parse(a),dataObj[r])if(dataObj[r].data){var c=dataObj[r].data;appcan.file.remove({filePath:c,callback:function(t,e,n,i){delete dataObj[r],appcan.locStorage.val("offlinedata",JSON.stringify(dataObj)),O(t,e,n,i)}})}else delete dataObj[r],appcan.locStorage.val("offlinedata",JSON.stringify(dataObj)),O(null,0,2,0);else O(null,0,2,0);else W=[]}var C,N=(window.document,"application/json"),k="text/html",E=/^\s*$/,A=appcan.getOptionId,T=0,F={type:"GET",beforeSend:f,success:f,error:f,complete:f,progress:f,context:null,global:!0,certificate:null,appVerify:!0,emulateHTTP:!1,xhr:function(){return window.uexXmlHttpMgr||XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:N,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,contentType:!1,processData:!1,cache:!0},I=encodeURIComponent,W=[];n.exports={ajax:function(){window.uexXmlHttpMgr?m.apply(null,arguments):Zepto.ajax.apply(null,arguments)},get:function(){window.uexXmlHttpMgr?y.apply(null,arguments):Zepto.get.apply(null,arguments)},post:function(){window.uexXmlHttpMgr?b.apply(null,arguments):Zepto.post.apply(null,arguments)},getJSON:x,param:S,postForm:P,clearOffline:j}}),appcan&&appcan.define("locStorage",function(t,e,n){function i(t,e){try{l&&(appcan.isString(e)||(e=JSON.stringify(e)),l.setItem(t,e))}catch(t){}}function r(t){if(appcan.isPlainObject(t))for(var e in t)t.hasOwnPropery(e)&&i(e,t[e]);else if(appcan.isArray(t))for(p=0,f=t.length;p<f;p++)t[p]&&i.apply(this,t[p]);else i.apply(this,arguments)}function a(t){if(t)try{if(l)return l.getItem(t)}catch(t){}}function o(){for(var t=[],e="",n=0,i=l.length;n<i;n++)(e=l.key(n))&&t.push(e);return t}function s(t){try{t&&appcan.isString(t)?l.removeItem(t):l.clear()}catch(t){}}function c(){return 5242880-unescape(encodeURIComponent(JSON.stringify(l))).length}function u(t,e){if(1===arguments.length)return a(t);i(t,e)}var l=window.localStorage,p=0,f=0;n.exports={getVal:a,setVal:r,leaveSpace:c,remove:s,keys:o,val:u}}),window.appcan&&appcan.extend(function(t,e,n){var i=function(t){return t?String.prototype.trim?String.prototype.trim.call(t):t.replace(/^\s+|\s+$/gi,""):""},r=function(t){return t?String.prototype.trimLeft?String.prototype.trimLeft.call(t):t.replace(/^\s+/gi,""):""},a=function(t){return t?String.prototype.trimRight?String.prototype.trimRight.call(t):t.replace(/\s+$/gi,""):""},o=function(t){if(!t)return 0;var e,n,i=0;for(e=0;e<t.length;e++)n=t.charCodeAt(e),n<127?i+=1:128<=n&&n<=2047?i+=2:2048<=n&&n<=65535&&(i+=3);return i};n.exports={trim:i,trimLeft:r,trimRight:a,byteLength:o}}),appcan&&appcan.define("User",function(t,e,n){var i=appcan.require("Backbone"),r=(appcan.require("database"),i.Model.extend({login:function(){},signup:function(){},logout:function(){},changePassword:function(){}}));n.exports=r}),window.appcan&&appcan.define("view",function(t,e,n){var i=appcan.require("underscore"),r={},a=function(t){r=i.defaults({},r,t)},o=function(e,n,a,o){o=i.defaults({},r,o);var s=i.template(n,o),c=s(a);return t(e).html(c),c},s=function(e,n,a,o){o=i.defaults({},r,o);var s=i.template(n,o),c=s(a);return t(e).append(c),c};n.exports={template:i.template,render:o,appendRender:s,config:a}}),window.appcan&&appcan.define("window",function(t,e,n){function i(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.id,e=i.enable,n=i.callback||function(){}),Ct[t]=n,uexWindow.setReportKey(t,e),uexWindow.onKeyPressed=function(t){Ct[t]&&Ct[t](t)}}function r(t,e,n,i,r,a,o,s,c){var u=null;1===arguments.length&&appcan.isPlainObject(t)&&(u=t,t=u.name,r=u.dataType||0,n=u.aniId||0,a=u.width,o=u.height,i=u.type||0,s=u.animDuration,c=u.extraInfo,e=u.data),r=r||0,n=n||0,i=i||0,s=s||300;try{c=appcan.isString(c)?c:JSON.stringify(c),c=JSON.parse(c),c.extraInfo||(c={extraInfo:c}),c=JSON.stringify(c)}catch(t){c=c||""}uexWindow.open(t,r,e,n,a,o,i,s,c)}function a(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.animId,e=n.animDuration),t&&(t=parseInt(t,10),(isNaN(t)||t>16||t<0)&&(t=-1)),e&&(e=parseInt(e,10),e=isNaN(e)?"":e),e=e||300,uexWindow.close(t,e)}function o(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.name,n=i.type||0,e=i.scriptContent),n=n||0,uexWindow.evaluateScript(t,n,e)}function s(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.name,e=i.popName||0,n=i.scriptContent),t=t||"",appcan.isString(e)&&e&&uexWindow.evaluatePopoverScript(t,e,n)}function c(t,e,n,i,r,a){var o=null;1===arguments.length&&appcan.isPlainObject(t)&&(o=t,t=o.bounceType||"0",e=o.startPullCall,n=o.downEndCall,i=o.upEndCall,r=o.color||"rgba(255,255,255,0)",a=o.imgSettings||'{"imagePath":"res://reload.png","textColor":"#530606","pullToReloadText":"拖动刷新","releaseToReloadText":"释放刷新","loadingText":"加载中，请稍等"}'),r=r||"rgba(255,255,255,0)",a=a||'{"imagePath":"res://reload.png","textColor":"#530606","pullToReloadText":"拖动刷新","releaseToReloadText":"释放刷新","loadingText":"加载中，请稍等"}';if(uexWindow.onBounceStateChange=function(t,r){0==r&&e&&e(t),1==r&&n&&n(t),2==r&&i&&i(t)},uexWindow.setBounce(1),e||n||i){appcan.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++)uexWindow.notifyBounceEvent(t[s],"1"),d(t[s],a),uexWindow.showBounceView(t[s],r,"1")}}function u(e,n,i){Nt.length>0&&t.each(Nt,function(t,r){r&&appcan.isFunction(r)&&2==n&&r(e,n,i)}),Nt=[]}function l(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)&&(Nt.push(t),uexWindow.cbBounceState=function(t,e,n){u(n,e,t)},uexWindow.getBounce())}function p(){uexWindow.setBounce(1)}function f(){uexWindow.setBounce(0)}function h(t,e,n,i){1===arguments.length&&appcan.isPlainObject(t)&&(n=t.flag,e=t.color,i=t.callback,t=t.type),n=void 0===n?1:n,n=parseInt(n,10),e=e||"rgba(0,0,0,0)",t=void 0===t?0:t,i=i||function(){},p(),uexWindow.showBounceView(t,e,n),n&&(Ot.push({type:t,callback:i}),uexWindow.onBounceStateChange||(uexWindow.onBounceStateChange=function(e,n){for(var i=null,r=0,a=Ot.length;r<a;r++)(i=Ot[r])&&e===i.type&&appcan.isFunction(i.callback)&&i.callback(n,t)}),uexWindow.notifyBounceEvent(t,1))}function d(t,e){1===arguments.length&&appcan.isPlainObject(t)&&(e=t.data,t=t.position),appcan.isPlainObject(e)&&(e=JSON.stringify(e)),uexWindow.setBounceParams(t,e)}function g(t){appcan.isPlainObject(t)&&(t=t.position),t=parseInt(t,10),t=isNaN(t)?0:t,t=t||0,uexWindow.resetBounceView(t)}function v(t,e,n,i){var r=null;1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.msg,e=r.duration,n=r.position||5,i=r.type),i=i||(e?0:1),e=e||0,n=n||5,uexWindow.toast(i,n,t,e)}function m(){uexWindow.closeToast()}function w(t,e,n,i){var r=null;1===arguments.length&&appcan.isPlainObject(t)&&(r=t,t=r.left||0,e=r.top||0,n=r.callback,i=r.duration||250),t=t||0,e=e||0,i=i||250,uexWindow.beginAnimition(),uexWindow.setAnimitionDuration(i),uexWindow.setAnimitionRepeatCount("0"),uexWindow.setAnimitionAutoReverse("0"),uexWindow.makeTranslation(t,e,"0"),uexWindow.commitAnimition(),appcan.isFunction(n)&&(uexWindow.onAnimationFinish=n)}function y(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.alpha||.5,e=i.callback,n=i.duration||250),t=i.alpha||.5,n=n||250,uexWindow.beginAnimition(),uexWindow.setAnimitionDuration(n),uexWindow.setAnimitionRepeatCount("0"),uexWindow.setAnimitionAutoReverse("0"),uexWindow.makeAlpha(t),uexWindow.commitAnimition(),appcan.isFunction(e)&&(uexWindow.onAnimationFinish=e)}function b(t,e,n,i,r){var a=null;1===arguments.length&&appcan.isPlainObject(t)&&(a=t,t=a.x||1,e=a.y||1,n=a.z||1,r=a.duration||250,i=a.callback),t=t||1,e=e||1,n=n||1,r=r||250,uexWindow.beginAnimition(),uexWindow.setAnimitionDuration(r),uexWindow.setAnimitionRepeatCount("0"),uexWindow.setAnimitionAutoReverse("0"),uexWindow.makeScale(t,e,n),uexWindow.commitAnimition(),appcan.isFunction(i)&&(uexWindow.onAnimationFinish=i)}function x(t,e,n,i,r,a){var o=null;1===arguments.length&&appcan.isPlainObject(t)&&(o=t,t=o.degrees,e=o.x||0,n=o.y||0,i=o.z||0,a=o.duration||250,r=o.callback),e=o.x||0,n=o.y||0,i=o.z||0,a=a||250,uexWindow.beginAnimition(),uexWindow.setAnimitionDuration(a),uexWindow.setAnimitionRepeatCount("0"),uexWindow.setAnimitionAutoReverse("0"),uexWindow.makeRotate(t,e,n,i),uexWindow.commitAnimition(),appcan.isFunction(r)&&(uexWindow.onAnimationFinish=r)}function _(t,e,n,i,r,a,o,s,c,u,l,p,f,h,d,g){var v=null;1===arguments.length&&appcan.isPlainObject(t)&&(v=t,t=v.left||0,e=v.top||0,n=v.scaleX||1,i=v.scaleY||1,r=v.scaleZ||1,a=v.degrees||0,o=v.rotateX||0,s=v.rotateY||0,c=v.rotateZ||0,u=v.alpha||0,l=v.delay||0,p=v.curve||0,f=v.repeatCount||0,h=v.isReverse||0,d=v.callback,g=v.duration||250),t=v.left||0,e=v.top||0,n=v.scaleX||1,i=v.scaleY||1,r=v.scaleZ||1,a=v.degrees||0,o=v.rotateX||0,s=v.rotateY||0,c=v.rotateZ||0,u=v.alpha||0,l=v.delay||0,p=v.curve||0,f=v.repeatCount||0,h=v.isReverse||0,g=g||250,uexWindow.beginAnimition(),l&&uexWindow.setAnimitionDelay(l),uexWindow.setAnimitionDuration(g),uexWindow.setAnimitionCurve(p),uexWindow.setAnimitionRepeatCount(f),uexWindow.setAnimitionAutoReverse(h),Math.abs(t)+Math.abs(e)&&uexWindow.makeTranslation(t,e,"0"),1==n&&1==i&&1==r||uexWindow.makeScale(n,i,r),a&&Math.abs(a)>0&&parseInt(o)+parseInt(s)+parseInt(c)>0&&uexWindow.makeRotate(a,o,s,c),u&&uexWindow.makeAlpha(u),uexWindow.commitAnimition(),appcan.isFunction(d)&&(uexWindow.onAnimationFinish=d)}function S(t,e,n,i){1===arguments.length&&appcan.isPlainObject(t)&&(argObj=t,t=argObj.dx||0,e=argObj.dy||0,n=argObj.duration||250,i=argObj.callback||function(){}),uexWindow.onSetWindowFrameFinish=i,uexWindow.setWindowFrame(t,e,n)}function P(e,n,i,r,a,o){var s=null;1===arguments.length&&appcan.isPlainObject(e)&&(s=e,e=s.id||0,n=s.url,r=s.top,i=s.left,o=s.extraInfo,a=s.name),r=r||0,i=i||0;var c=t("#"+e),u=c.width(),l=c.height(),p=c.css("font-size");r=parseInt(r,10),r=isNaN(r)?c.offset().top:r,i=parseInt(i,10),i=isNaN(i)?c.offset().left:i,a=a||e,o=o||"",p=parseInt(p,10),p=isNaN(p)?0:p,O(a,0,n,"",i,r,u,l,p,0,0,o)}function O(t,e,n,i,r,a,s,c,u,l,p,f,h){var d=null;1===arguments.length&&appcan.isPlainObject(t)&&(d=t,t=d.name,e=d.dataType,n=d.url,i=d.data,r=d.left,a=d.top,s=d.width,c=d.height,u=d.fontSize,l=d.type,p=d.bottomMargin,f=d.extraInfo,h=d.position),e=e||0,r=r||0,a=a||0,c=c||0,s=s||0,l=l||0,p=p||0,u=u||0,i=i||"",u=parseInt(u,10),u=isNaN(u)?0:u;try{f=appcan.isString(f)?f:JSON.stringify(f),f=JSON.parse(f),f.extraInfo||(f={extraInfo:f}),f=JSON.stringify(f)}catch(t){f=f||""}if(uexWidgetOne.platformName&&uexWidgetOne.platformName.toLowerCase().indexOf("ios")>-1){return void o("","uexWindow.openPopover("+['"'+t+'"',e,'"'+n+'"','"'+i+'"',r,a,s,c,u,l,p,"'"+f+"'"].join(",")+")")}uexWindow.openPopover(t,e,n,i,r,a,s,c,u,l,p,f,h)}function j(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.name),uexWindow.closePopover(t)}function C(e,n,i,r){var a=null;1===arguments.length&&appcan.isPlainObject(e)&&(a=e,e=a.id,n=a.left,i=a.top,r=a.name),n=n||0,i=i||0;var o=t("#"+e),s=o.width(),c=o.height();n=parseInt(n,10),n=isNaN(n)?0:n,i=parseInt(i,10),i=isNaN(i)?0:i,r=r||e,uexWindow.setPopoverFrame(r,n,i,s,c)}function N(t,e,n,i,r){var a=null;1===arguments.length&&appcan.isPlainObject(t)&&(a=t,t=a.name,e=a.left,n=a.top,i=a.width,r=a.height),e=e||0,n=n||0,i=i||0,r=r||0,e=parseInt(e,10),e=isNaN(e)?0:e,n=parseInt(n,10),n=isNaN(n)?0:n,i=parseInt(i,10),i=isNaN(i)?0:i,r=parseInt(r,10),r=isNaN(r)?0:r,uexWindow.setPopoverFrame(t,e,n,i,r)}function k(t,e,n,i){1===arguments.length&&appcan.isPlainObject(t)&&(i=t.callback,n=t.buttons,e=t.content,t=t.title),t=t||"提示",n=n||["确定"],n=appcan.isArray(n)?n:[n],A(t,e,n,i)}function E(e,n,i){kt.length>0&&t.each(kt,function(t,r){if(r&&appcan.isFunction(r)){if(2!=n)return r(new Error("confirm error"));r(null,e,n,i)}}),kt=[]}function A(t,e,n,i){1===arguments.length&&appcan.isPlainObject(t)&&(i=t.callback,n=t.buttons,e=t.content,t=t.title),n=appcan.isArray(n)?n:[n],appcan.isFunction(i)&&(kt.push(i),uexWindow.cbConfirm=function(t,e,n){E(n,e,t)}),uexWindow.confirm(t,e,n)}function T(t,e,n,i,r){1===arguments.length&&appcan.isPlainObject(t)&&(r=t.callback,i=t.buttons,e=t.content,n=t.defaultValue,t=t.title),i=appcan.isArray(i)?i:[i],appcan.isFunction(r)&&(uexWindow.cbPrompt=function(t,e,n){try{var n=JSON.parse(n);r(null,n,e,t)}catch(t){r(t)}}),uexWindow.prompt(t,e,n,i)}function F(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.name),t?uexWindow.bringPopoverToFront(t):uexWindow.bringToFront()}function I(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.name),t?uexWindow.sendPopoverToBack(t):uexWindow.sendToBack()}function W(t,e){if(1===arguments.length&&appcan.isPlainObject(t)&&(e=t.callback,t=t.channelId),appcan.isFunction(e)){var n="notify_callback_"+appcan.getUID();uexWindow[n]=e,uexWindow.subscribeChannelNotification(t,n)}}function M(t,e){1===arguments.length&&appcan.isPlainObject(t)&&(e=t.msg,t=t.channelId),appcan.isPlainObject(e)&&(e=JSON.stringify(e)),uexWindow.publishChannelNotification(t,e)}function B(e,n){if(e);else{if(appcan.isString(n)&&(n=JSON.parse(n)),!n.multiPopName)return;var i=jt[n.multiPopName];t.each(i,function(t,e){appcan.isFunction(e)&&e(null,n)})}}function D(e,n,i,r,a,o,s,c,u,l,p,f){1===arguments.length&&appcan.isPlainObject(e)&&(p=e.indexSelected,l=e.flag,u=e.fontSize,c=e.change,s=e.height,o=e.width,a=e.top,r=e.left,i=e.dataType,n=e.content,f=e.extraInfo,e=e.popName),i=i||0,l=l||0,p=parseInt(p,10),p=isNaN(p)?0:p,o=o||"",s=s||"",c=c||function(){};try{f=appcan.isString(f)?f:JSON.stringify(f),f=JSON.parse(f),f.extraInfo||(f={extraInfo:f}),f=JSON.stringify(f)}catch(t){f=f||""}appcan.isString(n)?(n=JSON.parse(n),n.content||(n={content:n})):n.content||(n={content:n});var h=["inPageName","inUrl","inData"],d=n.content;t.each(d,function(e,n){t.each(h,function(t,e){e in n||(n[e]="")})}),n=JSON.stringify(n),jt[e]?jt[e].push(c):jt[e]=[c],uexWindow.openMultiPopover(n,e,i,r,a,o,s,u,l,p,f),uexWindow.cbOpenMultiPopover=function(t,e,n){0==t&&(1!=e?B(new Error("multi popover error")):B(null,n))},$(e,p)}function R(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.popName),t&&uexWindow.closeMultiPopover(t)}function $(t,e){1===arguments.length&&appcan.isPlainObject(t)&&(e=t.index,t=t.popName),t&&(e=parseInt(e,10),e=isNaN(e)?0:e,uexWindow.setSelectedPopOverInMultiWindow&&uexWindow.setSelectedPopOverInMultiWindow(t,e))}function L(e){t.each(Et,function(t,n){appcan.isFunction(n)&&n(e)})}function q(t){appcan.isFunction(t)&&(Et.push(t),uexWindow.onStateChange=L)}function z(t){var e=null,n=null;appcan.window.onResume&&(e=appcan.window.onResume),appcan.window.onPause&&(n=appcan.window.onPause),0===t&&(Bt.emit("resume"),e&&e()),1===t&&(Bt.emit("pause"),n&&n())}function V(){t.each(At.left,function(t,e){appcan.isFunction(e)&&e()})}function J(){t.each(At.right,function(t,e){appcan.isFunction(e)&&e()})}function U(t,e){return"left"===t?(At[t].push(e),void(uexWindow.onSwipeLeft=V)):"right"===t?(At[t].push(e),void(uexWindow.onSwipeRight=J)):void 0}function H(t){appcan.isFunction(t)&&U("left",t)}function Z(t){appcan.isFunction(t)&&U("right",t)}function X(){var t=null,e=null;appcan.window.onSwipeLeft&&(t=appcan.window.onSwipeLeft),appcan.frame.onSwipeLeft&&(e=appcan.frame.onSwipeLeft),Bt.emit("swipeLeft"),appcan.frame&&appcan.frame.emit&&appcan.frame.emit("swipeLeft"),t&&t(),e&&e()}function G(){var t=null,e=null;appcan.window.onSwipeRight&&(t=appcan.window.onSwipeRight),appcan.frame.onSwipeRight&&(e=appcan.frame.onSwipeRight),Bt.emit("swipeRight"),appcan.frame&&appcan.frame.emit&&appcan.frame.emit("swipeRight"),t&&t(),e&&e()}function Y(t){var t=parseInt(t,10);t=isNaN(t)?0:t,t=1!=t?0:t,uexWindow.setMultilPopoverFlippingEnbaled(t)}function K(e,n,i){Tt.length>0&&t.each(Tt,function(t,r){if(r&&appcan.isFunction(r)){if(2!=n)return r(new Error(" error"));r(null,e,n,i)}}),Tt=[]}function Q(t,e,n,i){1===arguments.length&&appcan.isPlainObject(t)&&(i=t.callback,n=t.buttons,e=t.cancelText,t=t.title),n=appcan.isArray(n)?n:[n],appcan.isFunction(i)&&(uexWindow.cbActionSheet=function(t,e,n){Tt.push(i),K(n,e,opId)}),uexWindow.actionSheet(t,e,n)}function tt(t,e,n,i){var r=null;1===arguments.length&&appcan.isPlainObject(t)?r=JSON.stringify(t):(r={},appcan.isPlainObject(t)?r.leftSliding=t:r.leftSliding=JSON.parse(t),appcan.isPlainObject(e)?r.rightSliding=e:r.rightSliding=JSON.parse(e),r.animationId=n||"1",r.bg=i||"",r=JSON.stringify(r)),uexWindow.setSlidingWindow(r)}function et(t,e){var n=null;appcan.isPlainObject(t)||JSON.parse(t)?n=t:(n={},n.mark=t,e&&(n.reload=e)),appcan.isPlainObject(n)&&(n=JSON.stringify(n)),uexWindow.toggleSlidingWindow(n)}function nt(t){var t=parseInt(t,10);t=isNaN(t)?0:t,t=0!=t?1:t,uexWindow.setSlidingWindowEnabled(t)}function it(e,n,i){Ft.length>0&&t.each(Ft,function(t,r){r&&appcan.isFunction(r)&&r(e,n,i)}),Ft=[]}function rt(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)&&(Ft=Ft||[],Ft.push(t),uexWindow.cbGetUrlQuery=function(t,e,n){it(n,e,t)},uexWindow.getUrlQuery())}function at(e){It.length>0&&t.each(It,function(t,n){n&&appcan.isFunction(n)&&n(e)}),It=[]}function ot(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)&&(It=It||[],It.push(t),uexWindow.cbSlidingWindowState=function(t){at(t)},uexWindow.getSlidingWindowState())}function st(t){var t=parseInt(t,10);t=isNaN(t)?0:t,t=0!=t?1:t,uexWindow.setStatusBarTitleColor(t)}function ct(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.animId,e=n.animDuration),t&&(t=parseInt(t,10),(isNaN(t)||t>16||t<0)&&(t=0)),e&&(e=parseInt(e,10),e=isNaN(e)?"":e),e=e||260,uexWindow.windowForward(t,e)}function ut(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.animId,e=n.animDuration),t&&(t=parseInt(t,10),(isNaN(t)||t>16||t<0)&&(t=0)),e&&(e=parseInt(e,10),e=isNaN(e)?"":e),e=e||260,uexWindow.windowBack(t,e)}function lt(){uexWindow.preOpenStart()}function pt(){uexWindow.preOpenFinish()}function ft(e,n,i){Wt.length>0&&t.each(Wt,function(t,r){r&&appcan.isFunction(r)&&r(null,e,n,i)}),Wt=[]}function ht(t){if(1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)){Wt.push(t);try{uexWindow.cbGetState=function(t,e,n){ft(n,e,t)}}catch(e){t(e)}uexWindow.getState()}}function dt(t){var t=parseInt(t,10);t=isNaN(t)?0:t,t=0!=t?"true":"false",uexWindow.setWindowScrollbarVisible(t)}function gt(t){t=1!=t?0:t,uexWindow.hiddenBounceView(t)}function vt(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.type||0,e=i.color,n=i.flag||1),t=t||0,n=n||1,uexWindow.showBounceView(t,e,n)}function mt(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.name),t&&uexWindow.insertAbove(t)}function wt(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.name),t&&uexWindow.insertBelow(t)}function yt(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.nameA,e=n.nameB),t&&e&&uexWindow.insertPopoverAbovePopover(t,e)}function bt(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.nameA,e=n.nameB),t&&e&&uexWindow.insertPopoverBelowPopover(t,e)}function xt(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.nameA,e=n.nameB),t&&e&&uexWindow.insertWindowAboveWindow(t,e)}function _t(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.nameA,e=n.nameB),t&&e&&uexWindow.insertWindowBelowWindow(t,e)}function St(e,n){t.each(Mt,function(t,i){appcan.isFunction(i)&&i(e,n)}),Mt=[]}function Pt(t){appcan.isFunction(t)&&(Mt.push(t),uexWindow.onPopoverLoadFinishInRootWnd=St)}var Ot=[],jt={},Ct={},Nt=[],kt=[],Et=[],At={left:[],right:[]},Tt=[],Ft=[],It=[],Wt=[],Mt=[];appcan.ready(function(){q(z),H(X),Z(G)});var Bt=n.exports={open:r,close:a,evaluateScript:o,evaluatePopoverScript:s,setBounce:c,setBounceParams:d,enableBounce:p,disableBounce:f,setBounceType:h,resetBounceView:g,openToast:v,closeToast:m,moveAnim:w,popoverElement:P,openPopover:O,closePopover:j,resizePopover:N,resizePopoverByEle:C,alert:k,confirm:A,prompt:T,bringPopoverToFront:F,sendPopoverToBack:I,publish:M,subscribe:W,selectMultiPopover:$,openMultiPopover:D,closeMultiPopover:R,setWindowFrame:S,monitorKey:i,stateChange:q,swipeLeft:H,swipeRight:Z,getBounceStatus:l,setMultilPopoverFlippingEnbaled:Y,actionSheet:Q,scaleAnim:b,alphaAnim:y,rotateAnim:x,customAnim:_,setSlidingWindow:tt,toggleSlidingWindow:et,getSlidingWindowState:ot,setSlidingWindowEnabled:nt,getUrlQuery:rt,setStatusBarTitleColor:st,windowForward:ct,windowBack:ut,preOpenStart:lt,preOpenFinish:pt,getState:ht,setWindowScrollbarVisible:dt,insertPopoverBelowPopover:bt,insertPopoverAbovePopover:yt,insertBelow:wt,insertAbove:mt,insertWindowBelowWindow:_t,insertWindowAboveWindow:xt,showBounceView:vt,hiddenBounceView:gt,onPopoverLoadFinishInRootWnd:Pt};appcan.extend(Bt,appcan.eventEmitter)}),window.appcan&&appcan.define("frame",function(t,e,n){var i=appcan.require("window"),r=n.exports={close:i.closePopover,bringToFront:i.bringPopoverToFront,sendToBack:i.sendPopoverToBack,evaluateScript:i.evaluatePopoverScript,publish:i.publish,subscribe:i.subscribe,selectMulti:i.selectMultiPopover,openMulti:i.openMultiPopover,closeMulti:i.closeMultiPopover,setBounce:i.setBounce,getBounceStatus:i.getBounceStatus,resetBounce:i.resetBounceView,open:function(e,n,r,a,o,s,c,u){var l=null;if(1===arguments.length&&appcan.isPlainObject(e)&&(l=e,e=l.id||0,n=l.url,a=l.top,r=l.left,o=l.name,s=l.index,c=l.change),appcan.isArray(n)){var p=t("#"+e),f=p.width(),h=p.height(),d=p.css("font-size");a=parseInt(a,10),a=isNaN(a)?p.offset().top:a,r=parseInt(r,10),r=isNaN(r)?p.offset().left:r,o=o||e,d=parseInt(d,10),d=isNaN(d)?0:d,i.openMultiPopover(o||e,n,0,r,a,f,h,c||function(){},d,0,s,u)}else i.popoverElement(e,n,r,a,o,u)},resize:i.resizePopoverByEle,swipeLeft:i.swipeLeft,swipeRight:i.swipeRight};appcan.extend(r,appcan.eventEmitter)}),function(){function t(t){if(1===arguments.length&&appcan.isPlainObject(t)){var c,u;if(t.data){var l=JSON.stringify(t.data),p=t.url+l;c=appcan.crypto.md5(p)}else c=appcan.crypto.md5(t.url);if(t.expires&&"number"==typeof t.expires)u=parseInt(t.expires)+parseInt((new Date).getTime());else if(t.expires&&"string"==typeof t.expires){var f=n(t.expires);u=f}else u=0;if(void 0!=t.offlineDataPath&&"string"==typeof t.offlineDataPath&&(r=t.offlineDataPath),t.crypto&&!t.password&&(t.password="123qwe"),void 0!=t.offline){if(!0===t.offline){var h=appcan.locStorage.val(a),d=null;if(null!=h)if(d=JSON.parse(h),d[c]){var g=d[c],v=g.data?g.data:"",m={filePath:v,length:-1,callback:function(n,r,a,o){if(null==n){var s=t.success;"function"==typeof s&&("string"==typeof r&&t.dataType&&"json"==t.dataType.toLowerCase()&&(r=JSON.parse(r)),t.success(r,"success",200,null,null))}else{var s=t.success,l=t.error;t.success=function(n){s.apply(this,arguments),e(c,n,u,t)},t.error=function(t){l.apply(this,arguments)},i(t)}}};if(g.timeout&&g.now&&g.data){var w=parseInt(g.now)+parseInt(g.timeout),y=new Date;if(g.expires&&g.expires>y.getTime())t.crypto?(m.key=t.password,s(m)):o(m);else if(w>y.getTime())t.crypto?(m.key=t.password,s(m)):o(m);else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}}else if(g.data)if(g.expires){var y=new Date;if(g.expires>y.getTime())t.crypto?(m.key=t.password,s(m)):o(m);else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}}else t.crypto?(m.key=t.password,s(m)):o(m);else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}}else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}}else{var b=t.success,x=t.error;t.success=function(n){b.apply(this,arguments),e(c,n,u,t)},t.error=function(t){x.apply(this,arguments)},i(t)}}else{
var b=t.success,x=t.error;t.success=function(t){b.apply(this,arguments)},t.error=function(t){x.apply(this,arguments)},i(t)}}}function e(t,e,n,i){try{var o=t,s=r+o+".txt",l={};"object"!=typeof e||"[object object]"!=Object.prototype.toString.call(e).toLowerCase()||e.length||(e=JSON.stringify(e));var p=(new Date).getTime(),f=e;writeFileParams={filePath:s,content:e,callback:function(t){if(null==t){if(l.now=p,l.data=s,f.timeout)l.timeout=f.timeout;else if("string"==typeof f)try{var e=JSON.parse(f);e.timeout&&(l.timeout=e.timeout)}catch(t){}n>0&&(l.expires=n);var i=appcan.locStorage.val(a)||"{}",r=JSON.parse(i);r[o]=l,appcan.locStorage.val(a,JSON.stringify(r))}}},i.crypto?(writeFileParams.key=i.password,u(writeFileParams)):c(writeFileParams)}catch(t){throw t}}function n(t){if(!t)return 0;try{var e=t.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),n=0,i=new Date(e[1],0,1);return e[3]&&i.setMonth(e[3]-1),e[5]&&i.setDate(e[5]),e[7]&&i.setHours(e[7]),e[8]&&i.setMinutes(e[8]),e[10]&&i.setSeconds(e[10]),e[12]&&i.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(n=60*Number(e[16])+Number(e[17]),n*="-"==e[15]?1:-1),n-=i.getTimezoneOffset(),time=Number(i)+60*n*1e3,Number(time)}catch(t){return 0}}var i=appcan.request.ajax,r="wgt://offlinedata/",a="offlinedata",o=appcan.file.read,s=appcan.file.readSecure,c=appcan.file.write,u=appcan.file.writeSecure;appcan.extend(appcan.request,{ajax:t})}(),appcan.define("ajax",function(t,e,n){n.exports=appcan.request.ajax}),appcan&&appcan.define("download",function(t,e,n){function i(t,e,n,i){var r=null;l["create_call_"+i]?r=l["create_call_"+i].cb:1==l.length&&(r=l[0].cb),appcan.isFunction(r)&&(2==n?r(null,e,n,i):r(new Error("create downloader error"),e,n,i)),delete l["create_call_"+i]}function r(t,e,n,i){var r=null,a=null,o=null,s=null;p["download_call_"+t]?(r=p["download_call_"+t].downloadCall,a=p["download_call_"+t].successCall,o=p["download_call_"+t].errorCall,s=p["download_call_"+t].cancelCall):1==p.length&&(r=p[0].downloadCall,a=p[0].successCall,o=p[0].errorCall,s=p[0].cancelCall),0==i?r&&appcan.isFunction(r)&&r(t,e,n,i):1==i?a&&appcan.isFunction(a)&&a(t,e,n,i):2==i?o&&appcan.isFunction(o)&&o(t,e,n,i):3==i&&s&&appcan.isFunction(s)&&s(t,e,n,i)}function a(t,e){var n=null;return 1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.optId,e=n.callback),t=t||u(),e=e||function(){},appcan.isFunction(e)&&(l["create_call_"+t]={optId:t,cb:e},uexDownloaderMgr.cbCreateDownloader=function(t,e,n){if(2!=e)return void i(new Error("create downloader error"),n,e,t);i(null,n,e,t)}),uexDownloaderMgr.createDownloader(t),t}function o(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.optId),t&&(uexDownloaderMgr.closeDownloader(t),delete p["download_call_"+t])}function s(t,e){var n=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.optId,e=n.info),!t)throw new Error("optId is undefined!");if(!appcan.isPlainObject(e))throw new Error("info is not json object!");uexDownloaderMgr.setHeaders&&uexDownloaderMgr.setHeaders(t,JSON.stringify(e))}function c(t,e,n,i,a,o,s,c){var l=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(l=t,t=l.optId,e=l.url,n=l.savePath,i=l.breakPoint),t=t||u(),!e)throw new Error("url is undefined!");if(!n)throw new Error("savePath is undefined!");i=parseInt(i,10),i=isNaN(i)?"0":i,p["download_call_"+t]={optId:t,downloadCall:a,successCall:o,errorCall:s,cancelCall:c},uexDownloaderMgr.onStatus=r,uexDownloaderMgr.download(t,e,n,i)}var u=appcan.getOptionId,l={},p={};n.exports={create:a,run:c,setHeaders:s,close:o}}),appcan.define("icache",function(t,e,n){function i(e){var n=this;appcan.extend(this,appcan.eventEmitter),n.waiting=[],n.running=[],n.option=t.extend({maxtask:3},e,!0),appcan.file.getRealPath("box://",function(t,e,i,r){n.realpath=e,n.emit("NEXT_SESSION")}),n.on("NEXT_SESSION",n._next)}var r=1e3;i.prototype={_progress:function(t,e){e.progress&&e.progress(t,e)},_success:function(t,e){var n=this;if(n.off("DLS"+e.id),appcan.download.close(e.dlId),e.success)e.success(t,e);else if(e.dom&&e.dom.length)switch(e.dom[0].tagName.toLowerCase()){case"img":e.dom.attr("src",t);break;default:e.dom.css("background-image","url(file://"+t+") !important")}var i=n.running.valueOf(e);void 0!=i&&n.running.splice(i,1),n.emit("NEXT_SESSION")},_fail:function(t){var e=this;e.off("DLS"+t.id),appcan.download.close(t.dlId);var n=e.running.valueOf(t);void 0!=n&&e.running.splice(n,1),t.fail&&t.fail(t),e.emit("NEXT_SESSION")},_next:function(){var t=this;if(t.realpath&&!(t.running.length>=t.option.maxtask)){var e=t.waiting.shift();e&&(t.running.push(e),t._download(e))}},_download:function(t){var e=this,n=appcan.crypto.md5(t.url),i=e.realpath+"/icache/"+n;e.on("DLS"+t.id,function(n){switch(parseInt(n.status)){case 0:e._progress(n,t);break;case 1:e._success(i,t);break;default:e._fail(t)}}),e.once("FS"+t.id,function(n){function r(n,i,r,a){e.emit("DLS"+t.id,e,{fileSize:i,percent:r,status:a})}n?e._success(i,t):t.dlId=appcan.download.create(null,function(e,n,a,o){e?r(o,0,0,4):(t.header&&appcan.download.setHeaders(t.dlId,t.header),appcan.download.run(t.dlId,t.url,i,"0",r,r,r,r))})}),appcan.file.exists(i,function(n,i,r,a){e.emit("FS"+t.id,e,i)})},run:function(e){var n=this,i=t.extend({id:""+r++,status:0},e,!0);n.waiting.push(i),n.emit("NEXT_SESSION")},clearcache:function(){uexFileMgr.deleteFileByPath("box://icache/")}},n.exports=function(t){return new i(t)}}),window.appcan&&appcan.define("widget",function(t,e,n){function i(t,e,n,i,r,a){var o=null;if(1===arguments.length&&appcan.isPlainObject(t)&&(o=t,t=o.appId,e=o.animId||0,n=o.funName,i=o.info,r=o.animDuration||"",a=o.callback||function(){}),!t)return a(new Error("appId is empty"));e=e||0,r=r||"",a=a||function(){},e&&(e=parseInt(e,10),(isNaN(e)||e>16||e<0)&&(e=0)),r&&(r=parseInt(r,10),r=isNaN(r)?"":r),uexWidget.cbStartWidget=function(t,e,n){a(null,n,e,t)},uexWidget.startWidget(t,e,n,i,r)}function r(t,e,n){var i=null;1===arguments.length&&appcan.isPlainObject(t)&&(i=t,t=i.resultInfo,e=i.appId,n=i.isWgtBG),t&&e&&n?uexWidget.finishWidget(t,e,n):t&&e?uexWidget.finishWidget(t,e):uexWidget.finishWidget(t)}function a(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.appId,e=n.callback||function(){}),uexWidget.cbRemoveWidget=function(t,n,i){e(null,i,n,t)},uexWidget.removeWidget(t)}function o(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=null.callback||function(){}),t=t||function(){};try{uexWidget.cbCheckUpdate=function(e,n,i){var r=JSON.parse(i),a=r.result||2;t(null,a,n,e)}}catch(e){t(new Error("检查失败！"))}uexWidget.checkUpdate()}function s(t){var e=null;1===arguments.length&&appcan.isPlainObject(t)&&(e=t,t=e.appInfo),uexWidget.loadApp(t)}function c(t,e,n,i,r){var a=null;1===arguments.length&&appcan.isPlainObject(t)&&(a=t,t=a.startMode,e=a.mainInfo,n=a.addInfo,i=a.optInfo,r=r||function(){}),appcan.isFunction(r)&&(uexWidget.cbStartApp=function(t){r(t)}),uexWidget.startApp(t,e,n,i)}function u(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t)&&(uexWidget.cbGetOpenerInfo=function(e,n,i){t(null,i,n,e)},uexWidget.getOpenerInfo())}function l(t){var e=null;1===arguments.length&&appcan.isPlainObject(t)&&(e=t,t=e.appPath),uexWidget.installApp(t)}function p(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=null.callback),appcan.isFunction(t)&&(uexWidget.cbGetPushInfo=function(e,n,i){t(null,i,n,e)},uexWidget.getPushInfo())}function f(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.cbFunction),uexWidget.setPushNotifyCallback(t)}function h(t,e){var n=null;1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.uId,e=n.uNickName),uexWidget.setPushInfo(t,e)}function d(t){var e=null;1===arguments.length&&appcan.isPlainObject(t)&&(e=t,t=e.state),t=parseInt(t,10),t=isNaN(t)?0:t,t=0!=t?1:t,uexWidget.setPushState(t)}function g(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=null.callback),appcan.isFunction(t)&&(uexWidget.cbGetPushState=function(e,n,i){t(null,i,n,e)},uexWidget.getPushState())}function v(t,e){var n={};if(1===arguments.length&&appcan.isPlainObject(t)&&(n=t,t=n.appData,e=n.callback),appcan.isFunction(e)){uexWidget.cbIsAppInstalled=function(t){try{var n=JSON.parse(t);e(null,n.installed,2)}catch(t){e(new Error("error"))}};var i={};i.appData=t,i=JSON.stringify(i),uexWidget.isAppInstalled(i)}}function m(){t.each(S,function(t,e){appcan.isFunction(e)&&e()})}function w(){var t=null;appcan.widget.onSuspend&&(t=appcan.widget.onSuspend),O.emit("suspend"),t&&t()}function y(t){appcan.isFunction(t)&&(S.push(t),uexWidget.onSuspend=m)}function b(){t.each(P,function(t,e){appcan.isFunction(e)&&e()})}function x(){var t=null;appcan.widget.onResume&&(t=appcan.widget.onResume),O.emit("resume"),t&&t()}function _(t){appcan.isFunction(t)&&(P.push(t),uexWidget.onResume=b)}var S=[],P=[];appcan.ready(function(){y(w),_(x)});var O=n.exports={startWidget:i,finishWidget:r,removeWidget:a,checkUpdate:o,loadApp:s,startApp:c,getOpenerInfo:u,installApp:l,getPushInfo:p,setPushNotifyCallback:f,setPushInfo:h,setPushState:d,getPushState:g,isAppInstalled:v,suspend:y,resume:_};appcan.extend(O,appcan.eventEmitter)}),appcan.define("widgetOne",function(t,e,n){function i(t){if(1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t))try{uexWidgetOne.cbGetPlatform=function(e,n,i){t(null,i,n,e)},uexWidgetOne.getPlatform()}catch(e){t(e)}}function r(){return uexWidgetOne.platformName}function a(){return uexWidgetOne.platformVersion}function o(){return uexWidgetOne.iOS7Style||0}function s(){return uexWidgetOne.isFullScreen}function c(t){1===arguments.length&&appcan.isPlainObject(t)&&(t=t.flag),t=isNaN(t)?0:t,uexWidgetOne.exit(t)}function u(t){if(1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t))try{uexWidgetOne.cbGetCurrentWidgetInfo=function(e,n,i){t(null,i,n,e)},uexWidgetOne.getCurrentWidgetInfo()}catch(e){t(e)}}function l(t){if(1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t))try{uexWidgetOne.cbCleanCache=function(e,n,i){t(null,i,n,e)},uexWidgetOne.cleanCache()}catch(e){t(e)}}function p(t){if(1===arguments.length&&appcan.isPlainObject(t)&&(t=t.callback),appcan.isFunction(t))try{uexWidgetOne.cbGetMainWidgetId=function(e,n,i){t(null,i,n,e)},uexWidgetOne.getMainWidgetId()}catch(e){t(e)}}n.exports={getPlatform:i,getPlatformName:r,getPlatformVersion:a,isIOS7Style:o,isFullScreen:s,exit:c,getCurrentWidgetInfo:u,cleanCache:l,getMainWidgetId:p}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery||window.Zepto)}(function(t,e){function n(){}function i(t,e,n){window.lazyICache&&!window.isWeb&&window.lazyICache.run({url:t,success:n||"",dom:e})}function r(t,e){return(e._$container==h?("innerHeight"in f?f.innerHeight:h.height())+h.scrollTop():e._$container.offset().top+e._$container.height())<=t.offset().top-e.threshold}function a(e,n){return(n._$container==h?h.width()+(t.fn.scrollLeft?h.scrollLeft():f.pageXOffset):n._$container.offset().left+n._$container.width())<=e.offset().left-n.threshold}function o(t,e){return(e._$container==h?h.scrollTop():e._$container.offset().top)>=t.offset().top+e.threshold+t.height()}function s(e,n){return(n._$container==h?t.fn.scrollLeft?h.scrollLeft():f.pageXOffset:n._$container.offset().left)>=e.offset().left+n.threshold+e.width()}function c(t,e){var n=0;t.each(function(i,c){function u(){l.trigger("_lazyload_appear"),n=0}var l=t.eq(i);if(!(l.width()<=0&&l.height()<=0||"none"===l.css("display")))if(e.vertical_only)if(o(l,e));else if(r(l,e)){if(++n>e.failure_limit)return!1}else u();else if(o(l,e)||s(l,e));else if(r(l,e)||a(l,e)){if(++n>e.failure_limit)return!1}else u()})}function u(t){return t.filter(function(e,n){return!t.eq(e)._lazyload_loadStarted})}function l(t,e){function n(){o=0,s=+new Date,a=t.apply(i,r),i=null,r=null}var i,r,a,o,s=0;return function(){i=this,r=arguments;var t=new Date-s;return o||(t>=e?n():o=setTimeout(n,e-t)),a}}var p,f=window,h=t(f),d={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:f,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:n,load:n,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:n,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};appcan.ready(function(){window.lazyICache||window.isWeb||(window.lazyICache=appcan.icache({maxtask:1}))}),p=function(){var t=Object.prototype.toString;return function(e){return t.call(e).replace("[object ","").replace("]","")}}(),t.fn.hasOwnProperty("lazyload")||(t.fn.lazyload=function(e){var r,a,o,s=this;return t.isPlainObject(e)||(e={}),t.each(d,function(n,i){-1!=t.inArray(n,["threshold","failure_limit","check_appear_throttle_time"])?"String"==p(e[n])?e[n]=parseInt(e[n],10):e[n]=i:"container"==n?(e.hasOwnProperty(n)?e[n]==f||e[n]==document?e._$container=h:e._$container=t(e[n]):e._$container=h,delete e.container):!d.hasOwnProperty(n)||e.hasOwnProperty(n)&&p(e[n])==p(d[n])||(e[n]=i)}),r="scroll"==e.event,o=0==e.check_appear_throttle_time?c:l(c,e.check_appear_throttle_time),a=r||"scrollstart"==e.event||"scrollstop"==e.event,s.each(function(r,o){var c=this,l=s.eq(r),p=l.attr("src"),f=l.attr("data-"+e.data_attribute),h=e.url_rewriter_fn==n?f:e.url_rewriter_fn.call(c,l,f),d=l.attr("data-"+e.data_srcset_attribute),g=l.is("img");if(1==l._lazyload_loadStarted||p==h)return l._lazyload_loadStarted=!0,void(s=u(s));l._lazyload_loadStarted=!1,g&&!p&&l.one("error",function(){l.attr("src",e.placeholder_real_img)}).attr("src",e.placeholder_data_img),l.one("_lazyload_appear",function(){function r(){a&&l.hide(),g?(d&&(e.cache?i(d,l):l.attr("srcset",d)),h&&(e.cache?i(h,l):l.attr("src",h))):e.cache?i(h,l):l.css("background-image",'url("'+h+'")'),a&&l[e.effect].apply(l,o?e.effect_params:[]),s=u(s)}var a,o=t.isArray(e.effect_params);l._lazyload_loadStarted||(a="show"!=e.effect&&t.fn[e.effect]&&(!e.effect_params||o&&0==e.effect_params.length),e.appear!=n&&e.appear.call(c,l,s.length,e),l._lazyload_loadStarted=!0,e.no_fake_img_loader||d?(e.load!=n&&l.one("load",function(){e.load.call(c,l,s.length,e)}),r()):t("<img />").one("load",function(){r(),e.load!=n&&e.load.call(c,l,s.length,e)}).attr("src",h))}),a||l.on(e.event,function(){l._lazyload_loadStarted||l.trigger("_lazyload_appear")})}),a&&e._$container.on(e.event,function(){o(s,e),window.lazyLoadTimeout&&(clearTimeout(window.lazyLoadTimeout),window.lazyLoadTimeout=null),window.lazyLoadTimeout=setTimeout(function(){o(s,e)},1200)}),h.on("resize load",function(){o(s,e)}),t(function(){o(s,e)}),this})}),function(){"use strict";var t=Backbone.Service=function(t){t||(t={}),this.cid=_.uniqueId("service"),_.extend(this,t),this.ajaxCall=t.ajaxCall,this.initialize.apply(this,arguments)};_.extend(t.prototype,Backbone.Events,{lock:{},initialize:function(){},getLockKey:function(t){if(t){t=encodeURI(t);return appcan.crypto.md5(t)}},_wrap:function(t,e,n){var i=this,r=e.success;e.success=function(t){delete i.lock[n],r&&r(t)};var a=e.error;e.error=function(t){delete i.lock[n],a&&a(t)}},request:function(t,e){var n=this,i=n.getLockKey(JSON.stringify(t));if(n._wrap(t,e,i),n.lock[i])return n.trigger("error","Request alreay running. Please wait"),void e.error({status:-1e5,msg:"Request alreay running. Please wait"});n.lock[i]=!0,this.ajaxCall&&this.ajaxCall(t,e)}}),t.extend=Backbone.Model.extend}(),function(t,e){"undefined"!=typeof exports?module.exports=e(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],e):e(t._,t.Backbone)}(this,function(t,e){function n(t,e,n){return t._super.prototype[e].apply(t,n)}function i(e,n,r,a){for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(e.hasComputed(o)){if(a.length&&t.contains(a,o))throw"Recursive setter: "+a.join(" > ");(s=e.c()[o].set(s))&&x(s)&&(r=i(e,s,r,a.concat(o)))}else r[o]=s}return r}function r(e,n,i,r){i=i||{},i.get&&b(i.get)&&(i._get=i.get),i.set&&b(i.set)&&(i._set=i.set),delete i.get,delete i.set,t.extend(this,i),this.model=e,this.name=n,this.deps=this.deps||[],r||this.init()}function a(e){return b(e)?e():(x(e)&&(e=t.clone(e),t.each(e,function(t,n){e[n]=a(t)})),e)}function o(t){return b(t)?{set:t}:t}function s(e){return function(){var n=arguments,i=b(e)?e:e.get,r=e.set;return function(e){return y(e)?i.apply(this,t.map(n,a)):n[0]((r||i).call(this,e))}}}function c(e,n,i,r,a){if(e=t.result(e,r)){if(S(e)){a=a?a+"_":"",n["$"+r]=function(){return F&&F.push([e,"change"]),e},n.$attr=function(t){return function(n){return u(e,t,n,i)}};var o=t.extend({},e.attributes,t.isFunction(e.c)?e.c():{});t.each(o,function(t,r){n[a+r]=function(t){return u(e,r,t,i)}})}else P(e)&&(n["$"+r]=function(){return F&&F.push([e,"reset add remove sort update"]),e});return e}}function u(e,n,i,r){if(F&&F.push([e,"change:"+n]),!y(i)){if(!x(i)||_(i)||t.isDate(i)){var a=i;i={},i[n]=a}return r&&r.save?e.save(i,r):e.set(i,r)}return e.get(n)}function l(t,e){if(":el"===e||":scope"===e)return t.$el;var n=t.$(e);return t.$el.is(e)&&(n=n.add(t.$el)),n}function p(e,n,i,r,a,o){try{if(r.$model)var s=k[i]||(k[i]=new Function("$m","$f","$c","with($m){with($f){with($c){return{"+i+"}}}}")),c=s(e.model,o,r);else var s=k[i]||(k[i]=new Function("$f","$c","with($f){with($c){return{"+i+"}}}")),c=s(o,r)}catch(t){return void console.log('Error parsing bindings: "'+i+'"\n>> '+t)}var u=t.map(t.union(c.events||[],["change"]),function(t){return t+".epoxy"}).join(" ");t.each(c,function(t,i){if(a.hasOwnProperty(i))e.b().push(new g(e,n,a[i],t,u,r,c));else if(!T.hasOwnProperty(i))throw'binding handler "'+i+'" is not defined.'})}function f(t,e,n){if(t&&t.hasOwnProperty(e))return y(n)?a(t[e]):t[e](n)}function h(t,e){var n=[];if(e&&t)for(var i=0,r=e.length;i<r;i++)n.push(e[i]in t?t[e[i]]():null);return n}function d(t){var e=[];for(var n in t){var i=t[n];x(i)&&(i="{"+d(i)+"}"),W.test(n)||M.test(n)||(n='"'+n+'"'),e.push(n+":"+i)}return e.join(",")}function g(e,n,i,r,o,s,c){var u=this,l=n[0].tagName.toLowerCase(),p="input"==l||"select"==l||"textarea"==l||"true"==n.prop("contenteditable"),f=[],h=function(t){u.$el&&u.set(u.$el,a(r),t)};if(u.view=e,u.$el=n,u.evt=o,t.extend(u,i),r=u.init(u.$el,a(r),s,c)||r,F=f,h(),F=null,p&&i.get&&b(r)&&u.$el.on(o,function(t){r(u.get(u.$el,a(r),t))}),f.length)for(var d=0,g=f.length;d<g;d++)u.listenTo(f[d][0],f[d][1],h)}var v,m=e.Epoxy={},w=Array.prototype,y=t.isUndefined,b=t.isFunction,x=t.isObject,_=t.isArray,S=function(t){return t instanceof e.NestedModel},P=function(t){return t instanceof e.Collection},O=function(){},j={mixin:function(t){t=t||{};for(var e in this.prototype)"bindings"===e&&t.bindings||this.prototype.hasOwnProperty(e)&&"constructor"!==e&&(t[e]=this.prototype[e]);return t}},C=["computeds"];m.Model=e.NestedModel.extend({_super:e.NestedModel,constructor:function(e,i){t.extend(this,t.pick(i||{},C)),n(this,"constructor",arguments),this.initComputeds(this.attributes,i)},getCopy:function(e){return t.clone(this.get(e))},get:function(t){return v&&v.push(["change:"+t,this]),this.hasComputed(t)?this.c()[t].get():n(this,"get",arguments)},set:function(e,r,a){var o=e;o&&!x(o)?(o={},o[e]=r):a=r,a=a||{};var s=this._setting=[];a.unset||(o=i(this,o,{},[])),delete this._setting;var c=n(this,"set",[o,a]);return a.silent||(!this.hasChanged()&&s.length&&this.trigger("change",this),t.each(s,function(t){this.trigger.apply(this,t)},this)),c},toJSON:function(e){var i=n(this,"toJSON",arguments);return e&&e.computed&&t.each(this.c(),function(t,e){i[e]=t.value}),i},destroy:function(){return this.clearComputeds(),n(this,"destroy",arguments)},c:function(){return this._c||(this._c={})},initComputeds:function(e,n){this.clearComputeds();var i=t.result(this,"computeds")||{};i=t.extend(i,t.pick(e||{},t.keys(i))),t.each(i,function(t,e){t._init=1,this.addComputed(e,t)},this),t.invoke(this.c(),"init")},addComputed:function(t,e,n){this.removeComputed(t);var i=e,a=i._init;if(b(e)){var o=2;i={},i._get=e,b(n)&&(i._set=n,o++),i.deps=w.slice.call(arguments,o)}return this.c()[t]=new r(this,t,i,a),this},hasComputed:function(t){return this.c().hasOwnProperty(t)},removeComputed:function(t){return this.hasComputed(t)&&(this.c()[t].dispose(),delete this.c()[t]),this},clearComputeds:function(){for(var t in this.c())this.removeComputed(t);return this},modifyArray:function(t,e,n){var i=this.get(t);if(_(i)&&b(w[e])){var r=w.slice.call(arguments,2),a=w[e].apply(i,r);return n=n||{},n.silent||this.trigger("change:"+t+" change",this,w,n),a}return null},modifyObject:function(t,e,n,i){var r=this.get(t),a=!1;return x(r)?(i=i||{},y(n)&&r.hasOwnProperty(e)?(delete r[e],a=!0):r[e]!==n&&(r[e]=n,a=!0),a&&!i.silent&&this.trigger("change:"+t+" change",this,r,i),r):null}},j),t.extend(r.prototype,e.Events,{init:function(){var e={},n=v=[];this.get(!0),v=null,n.length&&(t.each(n,function(n){var i=n[0],r=n[1];e[i]?t.contains(e[i],r)||e[i].push(r):e[i]=[r]}),t.each(e,function(e,n){for(var i=0,r=e.length;i<r;i++)this.listenTo(e[i],n,t.bind(this.get,this,!0))},this))},val:function(t){return this.model.get(t)},get:function(e){if(!0===e&&this._get){var n=this._get.apply(this.model,t.map(this.deps,this.val,this));this.change(n)}return this.value},set:function(t){if(this._get){if(this._set)return this._set.apply(this.model,arguments);throw"Cannot set read-only computed attribute."}return this.change(t),null},change:function(e){if(!t.isEqual(e,this.value)){this.value=e;var n=["change:"+this.name,this.model,e];this.model._setting?this.model._setting.push(n):(n[0]+=" change",this.model.trigger.apply(this.model,n))}},dispose:function(){this.stopListening(),this.off(),this.model=this.value=null}});var N={optionText:"label",optionValue:"value"},k={},E={attr:o(function(t,e){t.attr(e)}),checked:o({get:function(e,n,i){e.length>1&&(e=e.filter(i.target));var r=!!e.prop("checked"),a=e.val();if(this.isRadio(e))return a;if(_(n)){n=n.slice();var o=t.indexOf(n,a);return r&&o<0?n.push(a):!r&&o>-1&&n.splice(o,1),n}return r},set:function(e,n){e.length>1&&(e=e.filter('[value="'+n+'"]'));var i=!!n;this.isRadio(e)?i=n==e.val():_(n)&&(i=t.contains(n,e.val())),e.prop("checked",i)},isRadio:function(t){return"radio"===t.attr("type").toLowerCase()}}),classes:o(function(e,n){t.each(n,function(t,n){e.toggleClass(n,!!t)})}),collection:o({init:function(t,e,n,i){var r=t.prop("innerHTML");if(t.empty(),this.view.itemView=this.view.itemView||MVVM.ViewModel.extend({el:r||"li",events:this.view.itemEvents||{}}),this.i=i.itemView?this.view[i.itemView]:this.view.itemView,!P(e))throw'Binding "collection" requires a Collection.';if(!b(this.i))throw'Binding "collection" requires an itemView.';this.v={}},set:function(e,n,i){var r,a=this.v,o=this.i,s=n.models,c=F;if(F=null,i=i||n,S(i))if(a.hasOwnProperty(i.cid))a[i.cid].remove(),delete a[i.cid];else{a[i.cid]=r=new o({model:i,collectionView:this.view});var u=t.indexOf(s,i),l=e.children();u<l.length?l.eq(u).before(r.$el):e.append(r.$el)}else if(P(i)){var p=s.length===t.size(a)&&n.every(function(t){return a.hasOwnProperty(t.cid)});e.children().detach();var f=document.createDocumentFragment();p?n.each(function(t){f.appendChild(a[t.cid].el)}):(this.clean(),n.each(function(t){a[t.cid]=r=new o({model:t,collectionView:this.view}),f.appendChild(r.el)},this)),e.append(f)}F=c},clean:function(){for(var t in this.v)this.v.hasOwnProperty(t)&&(this.v[t].remove(),delete this.v[t])}}),css:o(function(t,e){t.css(e)}),disabled:o(function(t,e){t.prop("disabled",!!e)}),enabled:o(function(t,e){t.prop("disabled",!e)}),html:o(function(t,e){t.html(e)}),options:o({init:function(t,e,n,i){this.e=i.optionsEmpty,this.d=i.optionsDefault,this.v=i.value},set:function(e,n){var i=this,r=a(i.e),o=a(i.d),s=a(i.v),c=P(n)?n.models:n,u=c.length,l=!0,p="";u||o||!r?(o&&(c=[o].concat(c)),t.each(c,function(t,e){p+=i.opt(t,u)})):(p+=i.opt(r,u),l=!1),e.html(p).prop("disabled",!l).val(s),e[0].selectedIndex<0&&e.children().length&&(e[0].selectedIndex=0);var f=e.val();i.v&&!t.isEqual(s,f)&&i.v(f)},opt:function(t,e){var n=t,i=t,r=N.optionText,a=N.optionValue;return x(t)&&(n=S(t)?t.get(r):t[r],i=S(t)?t.get(a):t[a]),['<option value="',i,'">',n,"</option>"].join("")},clean:function(){this.d=this.e=this.v=0}}),template:o({init:function(e,n,i){var r=e.find("script,template");if(this.t=t.template(r.length?r.html():e.html()),_(n))return t.pick(i,n)},set:function(t,e){e=S(e)?e.toJSON({computed:!0}):e,t.html(this.t(e))},clean:function(){this.t=null}}),for:o({init:function(t,e,n){this.html=t.prop("innerHTML"),t.empty()},set:function(n,i){n.empty();for(var r in i){var a=t.isObject(i[r])?i[r]:{value:i[r]},o=new e.Epoxy.Model(a),s=new e.Epoxy.View({el:this.html,model:o});n.append(s.$el)}},clean:function(){this.t=null}}),text:o({get:function(t){return t.text()},set:function(t,e){t.text(e)}}),toggle:o(function(t,e){t.toggle(!!e)}),value:o({get:function(t){return t.val()},set:function(t,e){try{t.val()+""!=e+""&&t.val(e)}catch(t){}}})},A={all:s(function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(!t[e])return!1;return!0}),any:s(function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(t[e])return!0;return!1}),length:s(function(t){return t.length||0}),none:s(function(){for(var t=arguments,e=0,n=t.length;e<n;e++)if(t[e])return!1;return!0}),not:s(function(t){return!t}),format:s(function(t){for(var e=arguments,n=1,i=e.length;n<i;n++)t=t.replace(new RegExp("\\$"+n,"g"),e[n]);return t}),select:s(function(t,e,n){return t?e:n}),csv:s({get:function(t){return t=String(t),t?t.split(","):[]},set:function(t){return _(t)?t.join(","):t}}),integer:s(function(t){return t?parseInt(t,10):0}),decimal:s(function(t){return t?parseFloat(t):0})},T={events:1,itemView:1,optionsDefault:1,optionsEmpty:1};m.binding={allowedParams:T,addHandler:function(t,e){E[t]=o(e)},addFilter:function(t,e){A[t]=s(e)},config:function(e){t.extend(N,e)},emptyCache:function(){k={}}};var F,I=["viewModel","bindings","bindingFilters","bindingHandlers","bindingSources","computeds"];m.View=e.View.extend({_super:e.View,constructor:function(e){t.extend(this,t.pick(e||{},I)),n(this,"constructor",arguments),this.applyBindings()},b:function(){return this._b||(this._b=[])},bindings:"data-bind",setterOptions:null,applyBindings:function(){this.removeBindings();var n=this,i=t.clone(t.result(n,"bindingSources")),r=n.bindings,a=n.setterOptions,u=t.clone(E),f=t.clone(A),g=n._c={};if(t.each(t.result(n,"bindingHandlers")||{},function(t,e){u[e]=o(t)}),t.each(t.result(n,"bindingFilters")||{},function(t,e){f[e]=s(t)}),n.model=c(n,g,a,"model"),n.viewModel=c(n,g,a,"viewModel"),n.collection=c(n,g,a,"collection"),n.collection&&n.collection.view&&(n.itemView=n.collection.view),i&&(t.each(i,function(t,e){i[e]=c(i,g,a,e,e)}),n.bindingSources=i),t.each(t.result(n,"computeds")||{},function(t,e){var i=b(t)?t:t.get,r=t.set,a=t.deps;g[e]=function(t){return!y(t)&&r?r.call(n,t):i.apply(n,h(n._c,a))}}),x(r))t.each(r,function(t,e){var i=l(n,e);x(t)&&(t=d(t)),i.length&&p(n,i,t,g,u,f)});else{for(var v=l(n,"["+r+"]"),m=$("[mvvm-scope]",n.$el),w=0;w<m.length;w++){$("["+r+"]",m[w]).each(function(){v.indexOf(this)>=0&&(v=v.not(this))})}v.each(function(){var t=e.$(this);p(n,t,t.attr(r),g,u,f)})}},getBinding:function(t){return f(this._c,t)},setBinding:function(t,e){return f(this._c,t,e)},removeBindings:function(){if(this._c=null,this._b)for(;this._b.length;)this._b.pop().dispose()},remove:function(){this.removeBindings(),n(this,"remove",arguments)}},j);var W=/^[a-z_$][a-z0-9_$]*$/i,M=/^\s*(["']).*\1\s*$/;return t.extend(g.prototype,e.Events,{init:O,get:O,set:O,clean:O,dispose:function(){this.clean(),this.stopListening(),this.$el.off(this.evt),this.$el=this.view=null}}),m});var MVVM={ViewModel:Backbone.Epoxy.View,Model:Backbone.Epoxy.Model,Collection:Backbone.Collection,Service:Backbone.Service,Binding:Backbone.Epoxy.binding};MVVM.Model.prototype.echarts=function(t,e){return e?[{value:this.get(t),name:this.get(e)}]:this.get(t)},MVVM.Collection.prototype.echarts=function(t,e){var n=this.pluck(t),i=this.pluck(e);if(i.length>0){for(var r=[],a=0;a<n.length;a++)r.push({value:n[a],name:i[a]});return r}return[]},appcan.use("detect",function(t,e){if(e.os.ios){var n=(document.getElementsByName("viewport"),window.devicePixelRatio?1/window.devicePixelRatio:1);t("[name='viewport']").attr("content","width=device-width,target-densitydpi=device-dpi,initial-scale="+n+", minimum-scale="+n+", maximum-scale="+n);var i=t("body").css("font-size");t("body").css("font-size",parseInt(i)*window.devicePixelRatio+"px")}}),appcan.extend(function(t,e,n){function i(){return"Win32"==window.navigator.platform||(!("ontouchstart"in window)||void 0)}function r(t,e,n){S(t).on(i()?"mousedown":"touchstart",function(){appcan.touch(e,n)})}function a(t){var e=t.attr("data-checked")||"false";e="false"==e?"true":"false",t.attr("data-checked",e),"false"==e?t.addClass("switch-active"):t.removeClass("switch-active"),"false"==e?t.removeClass("bc-head"):t.addClass("bc-head")}function o(t,e,n){"function"==typeof e&&(n=e,e=null);for(var i=S(t),r=0;r<i.length;r++){"false"==(S(i[r]).attr("data-checked")||"false")?S(i[r]).removeClass(e||"bc-head"):S(i[r]).addClass(e||"bc-head")}S(t).on("tap",function(t){var i=S(t.currentTarget),r=i.attr("data-checked")||"false";r="false"==r?"true":"false",i.attr("data-checked",r),"false"==r?i.removeClass(e||"bc-head"):i.addClass(e||"bc-head"),r="false"!=r,n(i,r)})}function s(t,e){S("select",S(t))[0].selectedIndex=-1;var n=S(t).find("div[class=text]"),i=S(t).find("select"),r=(i.find("option"),parseInt(i.attr("selectedIndex")));-1!=r&&n.html(i[0].options[r].text),S("select",S(t)).on("change",function(t){var n=S(t.currentTarget);appcan.selectChange(t.currentTarget),e&&e(n,n.val())})}function c(t,e){var n=window.event.currentTarget||window.event.srcElement,i=(window.event.type,"ontouchstart"in window),r=S(n),a=r.data("inline_event_data");a||(a={},a.clickFun=r.attr("onclick"),a.startFun=r.attr("ontouchstart")||r.attr("onmousedown"),a.endFun=r.attr("ontouchend")||r.attr("onmouseup"),a.startClassName=t,a.startCallFun=e,a.endClassName=a.startClassName,a.endCallFun=a.startCallFun,r.data("inline_event_data",a),r.attr("onclick",""),r.attr("ontouchstart",""),r.attr("onmousedown",""),r.attr("ontouchend",""),r.attr("onmouseup",""),i?(r.on("touchstart",function(){a.startClassName&&S(this).addClass(a.startClassName)}),r.on("touchend",function(){a.endClassName&&S(this).removeClass(a.endClassName)}),r.on("touchcancel",function(){a.endClassName&&S(this).removeClass(a.endClassName)}),r.on("tap",function(){appcan.isFunction(a.startCallFun)&&a.startCallFun.apply(this,[].slice.call(arguments)),new Function(a.clickFun)()})):(r.on("mousedown",function(){if(a.startClassName){var t=this;S(this).addClass(a.startClassName),setTimeout(function(){S(t).removeClass(a.endClassName)},300)}}),r.on("mouseup",function(){a.endClassName&&S(this).removeClass(a.endClassName)}),r.on("click",function(){appcan.isFunction(a.startCallFun)&&a.startCallFun.apply(this,[].slice.call(arguments)),new Function(a.clickFun)()})),r.addClass(a.startClassName),r.on("webkitTransitionEnd",function(){}))}function u(t,e){var n;t=t||window.event,n=t.currentTarget?t.currentTarget.previousElementSibling:t.previousElementSibling;var i=S(n);"INPUT"===i.prop("tagName")&&("checkbox"===i.attr("type")&&(n.checked=!n.checked,i.trigger("change")),"radio"!==i.attr("type")||n.checked||(n.checked="checked",i.trigger("change"))),appcan.isFunction(e)&&e(t,n.checked)}function l(){var t=window.navigator.platform;if(t.toLowerCase().indexOf("win")>-1||t.toLowerCase().indexOf("wow")>-1){var e=O.getVal("defaultfontsize");e&&S("body").css("font-size",e)}}function p(t,e,n,i,r,a){if(t){var o=S("#"+t);P.openPopover({name:a||t,url:e,left:n,top:i,width:o.width(),height:o.height(),type:r||0})}}function f(t,e,n,i,r){t&&appcan.window.open({name:t,data:e,aniId:n||10,type:i||0,animDuration:r||300})}function h(t){
t=t||-1,P.close(t)}function d(t,e){return O.setVal(t,e)}function g(t){return O.getVal(t)}function v(t,e){t&&e&&P.evaluateScript({name:t,scriptContent:e})}function m(){P.setBounceType("0","rgba(255,255,255,0)",0),P.setBounceType("1","rgba(255,255,255,0)",0)}function w(t){var e=0;if(!t)return e;if(appcan.isArray(t))return t.length;if(!appcan.isPlainObject(t))return e;for(var n in t)e++;return e}function y(t,e,n,i,r){var a=e.match(/(first:|last:)(\"|\'*)([^\"\']*)(\"|\'*)/);if(a)return a[1]==n?'"'==a[2]||"'"==a[2]?a[3]:t[a[3]]:a[1]==i&&r>1?"":void 0}function b(t,e,n,i,r){return t.replace(/\$\{([^\}]*)\}/g,function(t,a){if(a.match(/index:/))return n;if(a.match(/cb:/)&&r)return r(e,a.match(/cb:(.*)/));if(0==n){var o=y(e,a,"first:","last:",i);if(o)return o}if(n==i-1){var o=y(e,a,"last:","first:",i);if(o)return o}var s=a.split("."),c=e;for(var u in s)c=c[s[u]];return c||""})}function x(t,e,n){return b(t,e,-1,-1,n)}function _(t,e){function n(){if(i>=t.length)return void e(0);var r=t[i];if(r&&appcan.isFunction(r))try{if(!1===r(function(t,r){if(0!==t)return void e(t,r);i++,n()}))return void e(0)}catch(t){e(t)}}appcan.isFunction(t)&&(e=t,t=[]),e=appcan.isFunction(e)?e:function(){};var i=0;n()}var S=appcan.require("dom"),P=appcan.require("window"),O=appcan.require("locStorage"),j=appcan.require("view"),C=function(t){var e=S(t)[0];if(e){var n=e.parentElement;if(n){var i=n.getElementsByTagName("div")[0],r=e.options[e.selectedIndex].text;i&&S(i).html(r)}}},N=function(t,e){t=t||window.event;var n=t.currentTarget.nextElementSibling;if("DIV"==n.nodeName){var i=S(n);e?i.removeClass("col-c"):i.addClass("col-c")}},k=function(t){return parseInt(t)},E=function(t){t.cancelClick||(t.cancelClick=!0,t.addEventListener("click",function(){event.stopPropagation()},!0))},A=function(){var t={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/\${([\s\S]+?)}/g},e=[].slice.call(arguments);return e.push(t),j.render.apply(this,e)},T=function(){var t={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/\${([\s\S]+?)}/g},e=[].slice.call(arguments);return e.push(t),j.appendRender.apply(this,e)},F=function(t,e,n,i,r){var a="",o=0;for(var s in e){r&&r(0,s,e[s]);var c=b(t,e[s],o,n,i);r&&r(1,c,e[s]),a+=c,o++}return a};S(document).ready(function(){}),l(),n.exports={elementFor:u,touch:c,initFontsize:l,openPopoverByEle:p,resizePopoverByEle:P.resizePopoverByEle,tmpl:A,tmplAppend:T,openWinWithUrl:f,closeWin:h,closePopover:P.closePopover,setLocVal:d,getLocVal:g,execScriptInWin:v,bringPopoverToFront:P.bringPopoverToFront,initBounce:m,evaluatePopoverScript:P.evaluatePopoverScript,alert:P.alert,getObjLength:w,getTempCallback:y,temp:b,tempRenderList:F,tempRender:x,stopPropagation:E,toInt:k,selectChange:C,fold:N,button:r,select:s,switch:o,switchBtn:o,series:_,updateSwitch:a}}),appcan.ready(function(){var t=uexWidgetOne.iOS7Style,e=uexWidgetOne.isFullScreen;"1"==t&&"1"!=e&&$("body").addClass("uh_ios7")}),function(t){var e=function(){return"Win32"==window.navigator.platform||(!("ontouchstart"in window)||void 0)}()?"MSPointerUp pointerup mouseup":"touchend MSPointerUp pointerup",n=Backbone.Model.extend({defaults:{bounce:1}}),i=Backbone.View.extend({initialize:function(e){var n=this.$el=e.$el;this.bounceBox=t(".scrollbox",this.$el),this.bounceHeight=t(".box_bounce",this.bounceBox).height(),this.bounceStatus=t(".bounce_status",this.bounceBox),n[0].scrollView=this,this.render(),this.listenTo(this.model,"change:bounce",function(t){t.changed.bounce&&!this.bounceStatus.hasClass("active")&&this.bounceStatus.addClass("active"),!t.changed.bounce&&this.bounceStatus.hasClass("active")&&this.bounceStatus.removeClass("active")}),this.listenTo(this.model,"change:percent",function(t){var e=this.model.get("bounce"),n=this.model.get("bounceStatus"),i=t.changed.percent;1==e&&i>30&&1!=n&&this.model.set("bounceStatus",1),1==e&&i<=30&&0!=n&&this.model.set("bounceStatus",0)}),this.listenTo(this.model,"change:bounceStatus",function(e){1==this.model.get("bounce")&&(1==e.changed.bounceStatus?(this.bounceStatus.removeClass("active"),t(this.bounceStatus[1]).addClass("active"),this.trigger("dragToReload")):0==e.changed.bounceStatus?(this.bounceStatus.removeClass("active"),t(this.bounceStatus[0]).addClass("active")):2==e.changed.bounceStatus&&(this.bounceStatus.removeClass("active"),t(this.bounceStatus[2]).addClass("active"),this.bounceBox.css("-webkit-transform","translate3d(0px,"+.33*this.bounceHeight+"px,0px)"),this.trigger("releaseToReload")))})},reset:function(){if(this.model.set("bottomStatus","0"),this.bounceBox){var t=this;this.model.get("bounce");this.model.set("bounceStatus","0"),t.bounceBox.css("-webkit-transform","translate3d(0px,0px,0px)")}},hide:function(){this.model.set("bounce",0),this.bounceStatus.removeClass("active")},show:function(){this.model.set("bounce",1),t(this.bounceStatus[0]).addClass("active")},reload:function(){if(this.bounceBox){!this.bounceBox.hasClass("utra")&&this.bounceBox.addClass("utra");this.model.get("bounce");this.model.set("bounceStatus","2")}},render:function(){var n=this,i=this.$el;1!=this.model.get("bounce")&&this.bounceStatus.removeClass("active"),n.$el.on("swipeMoveDown",function(e,r){if(n.bounceHeight=t(".box_bounce",n.bounceBox).height(),e._args||(e._args=r),0==i.scrollTop()){n.bounceBox.hasClass("utra")&&n.bounceBox.removeClass("utra");var a=n.model.get("bounceStatus");if(2==a)return void n.trigger("onReloading",a);var o=parseInt(e._args.dy/3*100/n.bounceHeight);n.bounceBox.css("-webkit-transform","translate3d(0px,"+e._args.dy/3+"px,0px)"),e._args.e.preventDefault(),n.trigger("draging",{percent:o}),n.model.set("percent",o)}}),n.$el.on(e,function(t){if(0==i.scrollTop()&&n.bounceBox){!n.bounceBox.hasClass("utra")&&n.bounceBox.addClass("utra");var e=n.model.get("bounceStatus");e&&0!=e?1==e&&n.reload():(n.trigger("release",{}),n.reset())}});var r=i;"BODY"==i[0].tagName&&(r=t(document)),r.on("scroll",function(){if(n.bounceBox){var t=n.bounceBox.height(),e=i.height();if(i.scrollTop()+e>=t-50){1!=n.model.get("bottomStatus")&&(n.model.set("bottomStatus","1"),n.trigger("scrollbottom"))}}})}});t.scrollbox=function(t,e){if(t[0].scrollView)return t[0].scrollView.model.set(e),t[0].scrollView;var r=_.extend({},e),a=new n(r);return new i({$el:t,model:a})}}($);